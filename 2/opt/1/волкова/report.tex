\documentclass[14pt,a4paper,report]{report}
\usepackage[a4paper, mag=1000, left=2.5cm, right=1cm, top=2cm, bottom=2cm, headsep=0.7cm, footskip=1cm]{geometry}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{indentfirst}
\usepackage[dvipsnames]{xcolor}
\usepackage[colorlinks]{hyperref}
\usepackage{listings} 
\usepackage{fancyhdr}
\usepackage{caption}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{booktabs}
\usepackage{array}
\hypersetup{
	colorlinks = true,
	linkcolor  = black
}

\usepackage{titlesec}
\titleformat{\chapter}
{\Large\bfseries} % format
{}                % label
{0pt}             % sep
{\huge}           % before-code


\DeclareCaptionFont{white}{\color{white}} 

% Listing description
\usepackage{listings} 
\DeclareCaptionFormat{listing}{\colorbox{gray}{\parbox{\textwidth}{#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}
\lstset{ 
	% Listing settings
	inputencoding = utf8,			
	extendedchars = \true, 
	keepspaces = true, 			  	 % Поддержка кириллицы и пробелов в комментариях
	language = Matlab,            	 	 % Язык программирования (для подсветки)
	basicstyle = \small\sffamily, 	 % Размер и начертание шрифта для подсветки кода
	numbers = left,               	 % Где поставить нумерацию строк (слева\справа)
	numberstyle = \tiny,          	 % Размер шрифта для номеров строк
	stepnumber = 1,               	 % Размер шага между двумя номерами строк
	numbersep = 5pt,              	 % Как далеко отстоят номера строк от подсвечиваемого кода
	backgroundcolor = \color{white}, % Цвет фона подсветки - используем \usepackage{color}
	showspaces = false,           	 % Показывать или нет пробелы специальными отступами
	showstringspaces = false,    	 % Показывать или нет пробелы в строках
	showtabs = false,           	 % Показывать или нет табуляцию в строках
	frame = single,              	 % Рисовать рамку вокруг кода
	tabsize = 2,                  	 % Размер табуляции по умолчанию равен 2 пробелам
	captionpos = t,             	 % Позиция заголовка вверху [t] или внизу [b] 
	breaklines = true,           	 % Автоматически переносить строки (да\нет)
	breakatwhitespace = false,   	 % Переносить строки только если есть пробел
	escapeinside = {\%*}{*)}      	 % Если нужно добавить комментарии в коде
}

\begin{document}

\def\contentsname{Содержание}

% Titlepage
\begin{titlepage}
	\begin{center}
		\textsc{Санкт-Петербургский Политехнический 
			Университет Петра Великого\\[5mm]
			Кафедра компьютерных систем и программных технологий}
		
		\vfill
		
		\textbf{Отчёт по лабораторной работе №1\\[3mm]
			Курс: «Методы оптимизации и принятия решений»\\[3mm]
			Тема: «Многокритериальная оптимизация»\\[35mm]
			}
	\end{center}
	
	\hfill
	\begin{minipage}{.5\textwidth}
		Выполнил студент:\\[2mm] 
		Бояркин Никита Сергеевич\\
		Группа: 13541/3\\[5mm]
		
		Проверил:\\[2mm] 
		Сиднев Александр Георгиевич
	\end{minipage}
	\vfill
	\begin{center}
		Санкт-Петербург\\ \the\year\ г.
	\end{center}
\end{titlepage}

% Contents
\tableofcontents
\clearpage

\chapter{Лабораторная работа №1}

\section{Цель работы}

Научиться решать задачи по многокритериальной оптимизации.

\section{Программа работы}

\begin{itemize}
	\item Ввести обозначения.
	\item Формализовать критерии.
	\item Формализовать ограничения.
	\item Решить задачу следующими способами:
	\begin{itemize}
		\item Поиском оптимальных частных критериев.
		\item Аддитивной сверткой.
		\item Мультипликативной сверткой.
		\item Максимин или минимакс.
		\item Методом последовательных уступок.
		\item fgoalattain1.
		\item Введением метрики в пространстве критериев.
	\end{itemize}
	\item Решить задачу стохастического программирования.
	\item Написать вывод.
\end{itemize}

\section{Индивидуальное задание}

\subsubsection{Задача 14}

Компания Nakia выпускает под своим брендом телефоны трёх ценовых сегментов:

\begin{enumerate}
	\item LowEnd – розничная цена аппарата 60\$, стоимость производства 30\$
	\item MiddleEnd – розничная цена 300\$, стоимость производства 100\$
	\item HighEnd – цена в розничной сети 2000\$, стоимость производства 220\$
\end{enumerate}

Мощность фабрик компании такова, что достижимые объёмы выпуска: 70 млн дешевых устройств, 30 млн устройств среднего сегмента, 1 млн дорогих телефонов. Розничная сеть может продать не более 80 млн устройств в год.

Доход фирмы от продажи дополнений, можно заранее оценить по формуле $F=(0.1x_1+10x_2+70\sqrt{x_3})^{\frac{3}{2}}$.

При выпуске больших партий дешевых телефонов неизбежен антирекламный эффект, обусловленный относительно высоким процентом брака и падением престижа марки. Ущерб от антирекламы можно оценить по формуле $F=ln(20x_1+3x_2+0.01x_3)$.

По каждому из сегментов компания должна производить не менее половины
максимального объема выпуска.

Необходимо найти годовой объём производства телефонов каждого сегмента
для достижения

\begin{enumerate}
	\item Максимизации оборота
	\item Минимизации затрат на производство
	\item Максимизации средней цены телефона
	\item Максимизации выручки от продажи дополнений
	\item Минимизации антирекламного эффекта
\end{enumerate}

\section{Ход работы}

\subsection{Обозначения}

Для решения задачи будем использовать следующие обозначения:

\begin{itemize}
	\item $x_1$ -- количество произведенных дешевых телефонов (в миллионах).
	\item $x_2$ -- количество произведенных телефонов среднего сегмента (в миллионах).
	\item $x_3$ -- количество произведенных дорогих телефонов (в миллионах).
\end{itemize}

\subsection{Критерии}

Введем следующие функции для определения критериев:

\begin{equation*}
\begin{cases}
	\text{$F_1=60x_1+300x_2+2000x_3$} \\
	\text{$F_2=(0.1x_1+10x_2+70\sqrt{x_3})^{\frac{3}{2}}$} \\
	\text{$F_3=30x_1+100x_2+220x_3$} \\
	\text{$F_4=ln(20x_1+3x_2+0.01x_3)$} \\
	\text{$F_5=F_1/(x_1+x_2+x_3)$} \\
	\text{$F_6=(F_1+F_2)-(F_3+F_4)$} \\
\end{cases}
\end{equation*}

Тогда задача сводится к минимизации или максимизации следующих функций:

\begin{enumerate}
	\item Максимизация оборота -- $F_6\rightarrow max$
	\item Минимизация затрат на производство -- $F_3\rightarrow min$
	\item Максимизация средней цены телефона -- $F_5\rightarrow max$
	\item Максимизация выручки от продажи дополнений -- $F_2\rightarrow max$
	\item Минимизация антирекламного эффекта -- $F_4\rightarrow min$
\end{enumerate}

Значения взяты в миллионах для повышения точности вычислений в MATLAB, особенно для сверток. Кроме того, такое решение подразумевается исходя из задания.

\textbf{* Функция $F_1$ используется только для вычисления критерия $F_6$, поэтому не будет впоследствии расчитываться отдельно.}

\subsection{Ограничения}

Формализуем ограничения, приведенные в формулировке задания:

\begin{equation*}
\begin{cases}
	\text{$x_1\leq 70$} \\
	\text{$-x_1\leq -35$} \\
	\text{$x_2\leq 30$} \\
	\text{$-x_2\leq -15$} \\
	\text{$x_3\leq 1$} \\
	\text{$-x_3\leq -0.5$} \\
	\text{$x_1+x_2+x_3\leq 80$} \\
\end{cases}
\end{equation*}

\subsection{Поиск оптимумов частных критериев}

Разработаем программу для MATLAB, которая решает задачу, в соответствии с ограничениями, для каждого из критериев:

\lstinputlisting{listings/m1.m}

Результат решения задачи:

\lstinputlisting{listings/m1.log}

Результирующие значения в формате таблицы:


\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{1.2cm} | m{1.2cm} | m{1.2cm} | m{1.2cm} | m{1.6cm} | m{1.6cm} | m{1.6cm} | m{1.6cm} | m{1.6cm} | }
		\hline
		 & $x_1, Mill$ & $x_2, Mill$ & $x_3, Mill$ & $F_2, Mill\$$ & $F_3, Mill\$$ & $F_4, Mill\$$ & $F_5, Mill\$$ & $F_6, Mill\$$  \\ \hline
		F2 max & $49$ & $30$ & $1$ & $\underline{7258.939}$ & $4689.998$ & $6.975$ & $174.250$ & $16501.961$  \\ \hline
		F3 min & $35$ & $15$ & $0.5$ & $2892.251$ & $\underline{2660.000}$ & $6.613$ & $150.495$ & $7825.638$  \\ \hline
		F4 min & $35$ & $15$ & $0.528$ & $2921.812$ & $2666.229$ & $\underline{6.613}$ & $151.530$ & $7905.533$  \\ \hline
		F5 max & $35$ & $30$ & $1$ & $7218.316$ & $4270.000$ & $6.672$ & $\underline{198.485}$ & $16041.644$  \\ \hline
		F6 max & $49$ & $30$ & $1$ & $7258.939$ & $4690.000$ & $6.975$ & $174.250$ & $\underline{16501.964}$  \\
		\hline
	\end{tabular}
	\egroup
\end{table}

\textbf{* Функция $F_1$ используется только для вычисления критерия $F_6$, поэтому не расчитывается отдельно.}

\subsection{Аддитивная свертка критериев}

Для использования метода аддитивной свертки необходимо выполнить нормировку критериев, с тем чтобы сделать их значения соизмеримыми, а единицы измерения безразмерными. Нормировка производится делением функции критерия на модуль ее минимума или максимума.

\begin{equation*}
	\text{$f_i(x)=F_i(x)/|F_i^{extr}|$}
\end{equation*}

Формула аддитивной свертки имеет вид:

\begin{equation*}
\text{$F_a(x)=\sum_{i=1}^{N}\lambda_if_i(x), 0<\lambda_i<1,\sum_{i}^{}\lambda_i=1,$}
\end{equation*}

где $f_i(x)$ - критерии оптимальности, $N$ – их общее число, а $\lambda_i$ -- коэффициенты важности. Примем коэффициенты важности равными $\lambda_2=0.15, \lambda_3=0.15, \lambda_4=0.05, \lambda_5=0.05, \lambda_6=0.6$. Коэффициент при $F_6$ очевидно наибольший, так как итоговый оборот интересует прежде всего.

\lstinputlisting{listings/m2.m}

Результат решения при помощи аддитивной свертки:

\lstinputlisting{listings/m2.log}

Стоит отметить, что при больших значениях минимума или максима функций критерии оптимальности становятся очень маленькими, и поэтому MATLAB выдает не совсем корректные результаты. Это еще раз подтверждает правильность взятия значений $x1, x2, x3$ в миллионах.

\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{1.2cm} | m{1.9cm} | m{2.2cm} | m{2.2cm} | }
		\hline
		& result, Mill\$ & proportion, \% & difference, \% \\ \hline
		F2 max & 7218.316 & 99.44 & 0.56 \\ \hline
		F3 min & 4270.000 & 160.526 & 60.526 \\ \hline
		F4 min & 6.672 & 100.893 & 0.893 \\ \hline
		F5 max & 174.25 & 100 & 0 \\ \hline
		F6 max & 16501.96 & 97.211 & 2.789 \\ \hline
		Mean & & & \textbf{12.95} \\
		\hline
	\end{tabular}
	\egroup
\end{table}

\textbf{* Функция $F_1$ используется только для вычисления критерия $F_6$, поэтому не расчитывается отдельно.}

\subsection{Мультипликативная свертка критериев}

Формула мультипликативной свертки имеет вид:

\begin{equation*}
\text{$F_m(x)=\prod_{i=1}^{N}f_i(x)^{\lambda_i}, 0<\lambda_i<1,\sum_{i}^{}\lambda_i=1,$}
\end{equation*}

где $f_i(x)$ - критерии оптимальности, $N$ – их общее число, а $\lambda_i$ -- коэффициенты важности. Коэффициенты важности оставим равными $\lambda_2=0.15, \lambda_3=0.15, \lambda_4=0.05, \lambda_5=0.05, \lambda_6=0.6$.

\lstinputlisting{listings/m3.m}

Результат решения при помощи мультипликативной свертки:

\lstinputlisting{listings/m3.log}

По результирующему значению мультипликативной свертки можно заметить, что она лучше справляется в ситуации с очень маленькими критериями оптимальности, чем адаптивная свертка.

\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{1.2cm} | m{1.9cm} | m{2.2cm} | m{2.2cm} | }
		\hline
		& result, Mill\$ & proportion, \% & difference, \% \\ \hline
		F2 max & 7218.315 & 99.44 & 0.56 \\ \hline
		F3 min & 4270.004 & 160.526 & 60.526 \\ \hline
		F4 min & 6.672 & 100.893 & 0.893 \\ \hline
		F5 max & 198.485 & 100 & 0 \\ \hline
		F6 max & 16041.646 & 97.211 & 2.789 \\ \hline
		Mean & & & \textbf{12.95} \\
		\hline
	\end{tabular}
	\egroup
\end{table}

Результат аналогичен аддитивной свертке.

\textbf{* Функция $F_1$ используется только для вычисления критерия $F_6$, поэтому не расчитывается отдельно.}

\subsection{Максимин или минимакс}

Максиминную свертку представим в следующем виде:

\begin{equation*}
\text{$C_i(a)=min w_iC_i(a)$}
\end{equation*}

Решение $a^*$ является наилучшим, если для всех a выполняется условие:

\begin{equation*}
\text{$C(a^*)\geq C(a)$}
\end{equation*}

или

\begin{equation*}
\text{$a^*=arg max C(a)=arg max min w_iC_i(a)$}
\end{equation*}

Решение задачи в среде MATLAB:

\lstinputlisting{listings/m4.m}

\lstinputlisting{listings/m4f.m}

Результат решения задачи:

\lstinputlisting{listings/m4.log}

Результат решения задачи в виде таблицы:

\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{1.2cm} | m{1.9cm} | m{2.2cm} | m{2.2cm} | }
		\hline
		& result, Mill\$ & proportion, \% & difference, \% \\ \hline
		F2 max & 5364.414 & 73.901 & 26.099 \\ \hline
		F3 min & 3599.419 & 135.317 & 35.317 \\ \hline
		F4 min & 6.646 & 100.503 & 0.503 \\ \hline
		F5 max & 187.004 & 94.216 & 5.784 \\ \hline
		F6 max & 12846.607 & 77.849 & 22.151 \\ \hline
		Mean & & & \textbf{17.97} \\
		\hline
	\end{tabular}
	\egroup
\end{table}

\textbf{* Функция $F_1$ используется только для вычисления критерия $F_6$, поэтому не расчитывается отдельно.}

\subsection{Метод последовательных уступок}

Для метода последовательных уступок данные целевые функции не очень подходят, ввиду их нелинейности. Введем три новых критерия, которые хорошо иллюстрируют метод последовательных уступок:

\begin{equation*}
\begin{cases}
\text{$F_7=30x_1+200x_2+1780x_3$} \\
\text{$F_8=x_1+10x_3$} \\
\text{$F_9=x_1+2x_2$} \\
\end{cases}
\end{equation*}

Тогда задача сводится к минимизации или максимизации следующих функций:

\begin{enumerate}
	\item Максимизация оборота (без антирекламного эффекта и продажи дополнений) -- $F_7\rightarrow max$
	\item Максимизация доли дешевых и дорогих телефонов -- $F_8\rightarrow max$
	\item Минимизация доли средних и дешевых телефонов -- $F_9\rightarrow min$
\end{enumerate}

Расположим критерии в порядке значимости:

\begin{equation*}
\text{$F_7>F_8>F_9$}
\end{equation*}

Для решения задачи была выбрана уступка равная $15\%$.

Решение задачи для критерия $F_7$:

\lstinputlisting{listings/m5p1.m}

Результат решения задачи для критерия $F_7$:

\lstinputlisting{listings/m5p1.log}

Результаты решения для критерия $F_7$ в виде таблицы:

\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{1.2cm} | m{1.9cm} | m{2.2cm} | m{2.2cm} | }
		\hline
		& result, Mill\$ & proportion, \% & difference, \% \\ \hline
		F7 & 9250 & 100 & 0 \\ \hline
		F8 & 59 & - & - \\ \hline
		F9 & 109 & - & - \\
		\hline
	\end{tabular}
	\egroup
\end{table}

Максимум целевой функции $F_7$ равен $9250$. Для расчета максимума $F_8$ будет добавлено новое ограничение:

\begin{equation*}
\text{$F_7<=9250*0.85$}
\end{equation*}

\begin{equation*}
\text{$F_7<=7862.5$}
\end{equation*}

Решение задачи для критерия $F_8$:

\lstinputlisting{listings/m5p2.m}

Результат решения задачи для критерия $F_8$:

\lstinputlisting{listings/m5p2.log}

Результаты решения для критерия $F_8$ в виде таблицы:

\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{1.2cm} | m{1.9cm} | m{2.2cm} | m{2.2cm} | }
		\hline
		& result, Mill\$ & proportion, \% & difference, \% \\ \hline
		F7 & 7862.5 & 85 & 15 \\ \hline
		F8 & 67.162 & 100 & 0 \\ \hline
		F9 & 100.838 & - & - \\
		\hline
	\end{tabular}
	\egroup
\end{table}

Максимум целевой функции $F_8$ равен $67.162$. Для расчета максимума $F_9$ будет добавлено новое ограничение:

\begin{equation*}
\text{$F_8<=67.162*0.85$}
\end{equation*}

\begin{equation*}
\text{$F_8<=57.088$}
\end{equation*}

Решение задачи для критерия $F_9$:

\lstinputlisting{listings/m5p3.m}

Результат решения задачи для критерия $F_9$:

\lstinputlisting{listings/m5p3.log}

Результаты решения для критерия $F_9$ в виде таблицы:

\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{1.2cm} | m{1.9cm} | m{2.2cm} | m{2.2cm} | }
		\hline
		& result, Mill\$ & proportion, \% & difference, \% \\ \hline
		F7 & 7862.5 & 85 & 15 \\ \hline
		F8 & 57.088 & 85 & 15 \\ \hline
		F9 & 93.786 & 100 & 0 \\
		\hline
	\end{tabular}
	\egroup
\end{table}

Отличие результатов целевых функций от максимальных или минимальных значений не превышают принятое значение уступки $15\%$.

\subsection{Метод достижения цели (fgoalattain)}

Функция fgoalattain решает задачу достижения цели, которая является одной из формулировок задач для векторной оптимизации. Аргументы fgoalattain схожи с функцией fgoalattain, за исключением добавления целевых значений и весов. Кроме того, одновременно ищутся оптимальные значения для всех целевых  функций, а не для одной.

Решение задачи в среде MATLAB:

\lstinputlisting{listings/m6.m}

Результат решения задачи:

\lstinputlisting{listings/m6.log}

Результаты решения для критерия в виде таблицы:

\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{1.2cm} | m{1.9cm} | m{2.2cm} | m{2.2cm} | }
		\hline
		& result, Mill\$ & proportion, \% & difference, \% \\ \hline
		F2 max & 5038.049 & 69.405 & 30.595 \\ \hline
		F3 min & 3473.833 & 130.595 & 30.595 \\ \hline
		F4 min & 6.641 & 100.429 & 0.429 \\ \hline
		F5 max & 184.559 & 92.984 & 7.016 \\ \hline
		F6 max & 12269.075 & 74.349 & 25.651 \\ \hline
		Mean & & & \textbf{18.86} \\
		\hline
	\end{tabular}
	\egroup
\end{table}

\textbf{* Функция $F_1$ используется только для вычисления критерия $F_6$, поэтому не расчитывается отдельно.}

\subsection{Введение метрики в пространстве критериев}

Для перехода к однокритериальной задаче оптимизации методом введения метрики в пространстве целевых функций необходимо определить координаты идеальной точки $a_i=(f_1^*,f_2^*,...,f_1^N)$, где $f_i=min(f_i(x))$. Данные оптимальные значения уже известны из предыдущих пунктов работы и равняются:

\begin{equation*}
\text{$a=[7258.939, 2660, 6.613, 198.485, 16501.964]$}
\end{equation*}

Введем в пространстве критериев метрику в виде евклидова расстояния:

\begin{equation*}
\text{$p(y,a)=(\sum_{i=1}^{N}(a_i-y_i)^2)^{\frac{1}{2}}$}
\end{equation*}

Тогда за целевую функцию (обобщенный критерий), с учётом необходимости нормировки, можно взять выражение:

\begin{equation*}
\text{$f=\sum_{i=1}^{N}(\frac{a_i-f_i}{f_i^*})^2=\sum_{i=1}^{N}(1-\frac{f_i}{f_i^*})^2$}
\end{equation*}

Решение задачи в среде MATLAB:

\lstinputlisting{listings/m7.m}

Результат решения задачи:

\lstinputlisting{listings/m7.log}

Результаты решения для критерия в виде таблицы:

\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{1.2cm} | m{1.9cm} | m{2.2cm} | m{2.2cm} | }
		\hline
		& result, Mill\$ & proportion, \% & difference, \% \\ \hline
		F2 max & 5589.230 & 76.998 & 23.002 \\ \hline
		F3 min & 3684.450 & 138.513 & 38.513 \\ \hline
		F4 min & 6.650 & 100.553 & 0.553 \\ \hline
		F5 max & 188.602 & 95.021 & 4.979 \\ \hline
		F6 max & 13241.479 & 80.242 & 19.758 \\ \hline
		Mean & & & \textbf{17.361} \\
		\hline
	\end{tabular}
	\egroup
\end{table}

\textbf{* Функция $F_1$ используется только для вычисления критерия $F_6$, поэтому не расчитывается отдельно.}

\subsection{Оценка Парето-оптимальности полученных решений}

Выделим результаты решения задачи различными методами в отдельную таблицу. Метод последовательных уступок из-за нелинейности некоторых целевых функций не попадает в таблицу.

\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{2.2cm} | m{1.05cm} | m{1.05cm} | m{1.05cm} | m{1.35cm} | m{1.35cm} | m{1.35cm} | m{1.35cm} | m{1.35cm} | m{1.4cm} | }
		\hline
		Метод & $x_1, Mill$ & $x_2, Mill$ & $x_3, Mill$ & $F_2, Mill\$$ & $F_3, Mill\$$ & $F_4, Mill\$$ & $F_5, Mill\$$ & $F_6, Mill\$$ & Средняя разница \% \\ \hline
		Аддитивная свертка & 35 & 30 & 1 & 7218.316 & 4270.000 & 6.672 & 198.485 & 16041.644 & \textbf{12.95} \\ \hline
		Мультиплика- тивная свертка & 35 & 30 & 1 & 7218.315 & 4270.004 & 6.672 & 198.485 & 16041.646 & \textbf{12.95} \\ \hline
		Минимакс & 35 & 23.294 & 1 & 5364.414 & 3599.419 & 6.646 & 187.004 & 12846.607 & \textbf{17.97} \\ \hline
		Метод последовательных уступок & - &- & - & - & - & - & - & - & \textbf{-} \\ \hline
		Метод достижения цели & 35 & 22.038 & 1 & 5038.049 & 3473.833 & 6.641 & 184.559 & 12269.075 & \textbf{18.86} \\ \hline
		Введение метрики в пространстве критериев & 35 & 24.145 & 1 & 5589.230 & 3684.450 & 6.650 & 188.602 & 13241.479 & \textbf{17.361} \\
		\hline
	\end{tabular}
	\egroup
\end{table}

\textbf{* Функция $F_1$ используется только для вычисления критерия $F_6$, поэтому не расчитывается отдельно.}

Парето-оптимальными по соотношению доходов к расходам можно назвать только аддитивную и мультипликативную светку, так как при их использовании получается наибольший оборот ($F_6$), а оборот как раз таки и характеризует разницу между доходами и расходами. Для этих методов наибольший оборот получается благодаря введению коэффициентов значимости.

\subsection{Решение задачи стохастического программирования}

Рассмотрим задачу стохастического программирования на основе задачи однокритериальной оптимизации, которая была получена из исходной методом введения метрики в пространстве критериев.

Преобразуем последнее ограничение системы:

\begin{equation*}
\text{$x_1+x_2+x_3\leq 80$}
\end{equation*}

в вероятностное, тогда:

\begin{equation*}
\text{$P\{\alpha_1x_1+\alpha_2x_2+\alpha_3x_3\leq 80\}\geq \alpha$}
\end{equation*}

где все $a_i$ нормально распределены и имеют следующие математические ожидания и дисперсии:

\begin{equation*}
\text{$M[\alpha_1]=1, M[\alpha_2]=1, M[\alpha_3]=1$}
\end{equation*}

\begin{equation*}
\text{$\sigma[\alpha_1]=0.5, \sigma[\alpha_2]=0.5, \sigma[\alpha_3]=0.5$}
\end{equation*}

где СКО равняется половине математического ожидания. По таблице функции нормального распределения находим коэффициенты $K_\alpha$:

\begin{equation*}
\text{$K_{0.5}=0, K_{0.6}=0.2533, K_{0.7}=0.5244, K_{0.8}=0.8416, K_{0.9}=1.2816$}
\end{equation*}

Таким образом, вероятностное ограничение становится эквивалентно детерминированному неравенству:

\begin{equation*}
\text{$x_1+x_2+x_3+K_\alpha \sqrt{0.5x_1^2+0.5x_2^2+0.5x_3^2}\leq 80$}
\end{equation*}

Решение задачи в среде MATLAB:

\lstinputlisting{listings/m8.m}

\lstinputlisting{listings/m8f.m}

Результат решения задачи:

\lstinputlisting{listings/m8.log}

Результаты решения для критерия в виде таблицы:

\begin{table}[h!]
	\centering
	\bgroup
	\def\arraystretch{1}
	\begin{tabular}{ | m{0.7cm} | m{1.0cm} | m{1.05cm} | m{1.05cm} | m{1.05cm} | m{1.35cm} | m{1.35cm} | m{1.35cm} | m{1.35cm} | m{1.35cm} | m{1.4cm} | }
		\hline
		$\alpha$ & $K_\alpha$ & $x_1, Mill$ & $x_2, Mill$ & $x_3, Mill$ & $F_2, Mill\$$ & $F_3, Mill\$$ & $F_4, Mill\$$ & $F_5, Mill\$$ & $F_6, Mill\$$ & Средняя разница \% \\ \hline
		det & det & 35 & 24.145 & 1 & 5589.230 & 3684.450 & 6.650 & 188.602 & 13241.479 & \textbf{17.361} \\ \hline
		0.1 & -1.282 & 35 & 24.145 & 1 & 5589.230 & 3684.450 & 6.650 & 188.602 & 13241.479 & \textbf{17.361} \\ \hline
		0.2 & -0.842 & 35 & 24.145 & 1 & 5589.230 & 3684.450 & 6.650 & 188.602 & 13241.479 & \textbf{17.361} \\ \hline
		0.3 & -0.524 & 35 & 24.145 & 1 & 5589.230 & 3684.450 & 6.650 & 188.602 & 13241.479 & \textbf{17.361} \\ \hline
		0.4 & -0.253 & 35 & 24.145 & 1 & 5589.230 & 3684.450 & 6.650 & 188.602 & 13241.479 & \textbf{17.361} \\ \hline
		0.5 & 0 & 35 & 24.145 & 1 & 5589.230 & 3684.450 & 6.650 & 188.602 & 13241.479 & \textbf{17.361} \\ \hline
		0.6 & 0.253 & 35 & 24.145 & 1 & 5589.230 & 3684.450 & 6.650 & 188.602 & 13241.479 & \textbf{17.361} \\ \hline
		0.7 & 0.524 & 35 & 24.145 & 1 & 5589.230 & 3684.450 & 6.650 & 188.602 & 13241.479 & \textbf{17.361} \\ \hline
		0.8 & 0.842 & 35 & 20.002 & 1 & 4523.611 & 3270.208 & 6.633 & 180.361 & 11347.389 & \textbf{20.259} \\ \hline
		0.9 & 1.282 & 34.155 & 14.355 & 0 & 1781.719 & 2460.145 & 6.588 & 131.020 & 5670.774 & \textbf{36.595} \\
		\hline
	\end{tabular}
	\egroup
\end{table}

\textbf{* Функция $F_1$ используется только для вычисления критерия $F_6$, поэтому не расчитывается отдельно.}

Увеличение доверительной вероятности $\alpha$ приводит к ухудшению результатов решения. Неизменность результатов на промежутке $\alpha=[0.1, 0.7]$ объясняется выбором ограничения.

\section{Вывод}

Можно заметить, что аддитивная и мультипликативная свертка выдают одинаковый, наиболее оптимальный результат. Наилучший результат этих методов обусловлен наличием коэффициентов значимости.

Методы, не подразумевающие введение весовых коэффициентов показывают похожий результат, который в целом хуже, чем у аддитивной и мультипликативной свертки.

\end{document}