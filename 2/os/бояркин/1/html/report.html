<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html xml:lang="ru" > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-5"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html --> 
<meta name="src" content="report.tex"> 
<meta name="date" content="2018-05-12 16:25:00"> 
<link rel="stylesheet" type="text/css" href="report.css"> 
</head><body 
>
<!--l. 64--><p class="noindent" >
                                                                                               
                                                                                               
<div class="center" 
>
<!--l. 65--><p class="noindent" >
<!--l. 68--><p class="noindent" ><span 
class="lacc-1000">&#x0421;<span 
class="small-caps">&#x0410;</span>&#x043D;&#x043A;&#x0442;-&#x041F;&#x0415;&#x0442;&#x0415;&#x0440;&#x0431;&#x0443;&#x0440;&#x0433;&#x0441;&#x043A;&#x0438;&#x0439; &#x041F;&#x043E;&#x043B;&#x0438;&#x0442;&#x0415;&#x0445;&#x043D;&#x0438;&#x0447;&#x0415;&#x0441;&#x043A;&#x0438;&#x0439; &#x0423;&#x043D;&#x0438;&#x0432;&#x0415;&#x0440;&#x0441;&#x0438;&#x0442;&#x0415;&#x0442; &#x041F;&#x0415;&#x0442;&#x0440;<span 
class="small-caps">&#x0410;</span> &#x0412;&#x0415;&#x043B;&#x0438;&#x043A;&#x043E;&#x0433;&#x043E;</span><br /><br />
<span 
class="lacc-1000">&#x041A;<span 
class="small-caps">&#x0410;</span>&#x0444;&#x0415;&#x0434;&#x0440;<span 
class="small-caps">&#x0410;</span> &#x043A;&#x043E;&#x043C;&#x043F;&#x044C;&#x044E;&#x0442;&#x0415;&#x0440;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0441;&#x0442;&#x0415;&#x043C; &#x0438; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;<span 
class="small-caps">&#x0410;</span>&#x043C;&#x043C;&#x043D;&#x044B;&#x0445; &#x0442;&#x0415;&#x0445;&#x043D;&#x043E;&#x043B;&#x043E;&#x0433;&#x0438;&#x0439;</span>
<!--l. 75--><p class="noindent" ><span 
class="labx-1000">&#x041E;&#x0442;&#x0447;&#x0451;&#x0442; &#x043F;&#x043E; &#x043B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0435; &#x2116;1</span><br /><br />
<span 
class="labx-1000">&#x041A;&#x0443;&#x0440;&#x0441;: «&#x041F;&#x0440;&#x043E;&#x0435;&#x043A;&#x0442;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x041E;&#x0421; &#x0438; &#x043A;&#x043E;&#x043C;&#x043F;&#x043E;&#x043D;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432;»</span><br /><br />
<span 
class="labx-1000">&#x0422;&#x0435;&#x043C;&#x0430;: «&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0435; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x044B;»</span><br /><br />
</div>
<!--l. 78--><p class="indent" >                         <div class="minipage">&#x0412;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0438;&#x043B; &#x0441;&#x0442;&#x0443;&#x0434;&#x0435;&#x043D;&#x0442;:<br 
class="newline" /> &#x0411;&#x043E;&#x044F;&#x0440;&#x043A;&#x0438;&#x043D; &#x041D;&#x0438;&#x043A;&#x0438;&#x0442;&#x0430; &#x0421;&#x0435;&#x0440;&#x0433;&#x0435;&#x0435;&#x0432;&#x0438;&#x0447;<br 
class="newline" />&#x0413;&#x0440;&#x0443;&#x043F;&#x043F;&#x0430;: 13541/3<br 
class="newline" />
<!--l. 84--><p class="noindent" >&#x041F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x0438;&#x043B;:<br 
class="newline" /> &#x0414;&#x0443;&#x0448;&#x0443;&#x0442;&#x0438;&#x043D;&#x0430; &#x0415;&#x043B;&#x0435;&#x043D;&#x0430; &#x0412;&#x043B;&#x0430;&#x0434;&#x0438;&#x043C;&#x0438;&#x0440;&#x043E;&#x0432;&#x043D;&#x0430;
</div>
<div class="center" 
>
<!--l. 88--><p class="noindent" >
<!--l. 89--><p class="noindent" >&#x0421;&#x0430;&#x043D;&#x043A;&#x0442;-&#x041F;&#x0435;&#x0442;&#x0435;&#x0440;&#x0431;&#x0443;&#x0440;&#x0433;<br />
2018&#x00A0;&#x0433;.</div>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
<a 
 id="x1-1000"></a>
   <h2 class="likechapterHead"><a 
 id="x1-2000"></a>&#x0421;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0430;&#x043D;&#x0438;&#x0435;</h2> <div class="tableofcontents">
   <span class="chapterToc" >1 <a 
href="#x1-30001" id="QQ2-1-3">&#x041B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x2116;1</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.1 <a 
href="#x1-40001" id="QQ2-1-4">&#x0426;&#x0435;&#x043B;&#x044C; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.2 <a 
href="#x1-50002" id="QQ2-1-5">&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.3 <a 
href="#x1-60003" id="QQ2-1-6">&#x0418;&#x043D;&#x0434;&#x0438;&#x0432;&#x0438;&#x0434;&#x0443;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.4 <a 
href="#x1-70004" id="QQ2-1-7">&#x0425;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.5 <a 
href="#x1-80005" id="QQ2-1-9">&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0435; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x044B;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.5.1 <a 
href="#x1-90001" id="QQ2-1-11">&#x041F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432;</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.5.2 <a 
href="#x1-100002" id="QQ2-1-16">&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_getpid</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.5.3 <a 
href="#x1-150003" id="QQ2-1-28">&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_setpid</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.5.4 <a 
href="#x1-160004" id="QQ2-1-30">&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_chdir</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.5.5 <a 
href="#x1-210005" id="QQ2-1-42">&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_sysinfo</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.6 <a 
href="#x1-260006" id="QQ2-1-53">&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;</a></span>
   </div>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
   <h2 class="chapterHead"><span class="titlemark">&#x0413;&#x043B;&#x0430;&#x0432;&#x0430;&#x00A0;1</span><br /><a 
 id="x1-30001"></a>&#x041B;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430;&#x0442;&#x043E;&#x0440;&#x043D;&#x0430;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430; &#x2116;1</h2>
<a 
 id="x1-3001r1"></a>
<h3 class="sectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-40001"></a>&#x0426;&#x0435;&#x043B;&#x044C; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<!--l. 101--><p class="noindent" >&#x041E;&#x0437;&#x043D;&#x0430;&#x043A;&#x043E;&#x043C;&#x0438;&#x0442;&#x044C;&#x0441;&#x044F; &#x0441; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x043C;&#x0438; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;&#x043C;&#x0438;, &#x043D;&#x0430;&#x0443;&#x0447;&#x0438;&#x0442;&#x044C;&#x0441;&#x044F; &#x0440;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x0430;&#x0442;&#x044B;&#x0432;&#x0430;&#x0442;&#x044C; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442;&#x0447;&#x0438;&#x043A;&#x0438; &#x0434;&#x043B;&#x044F; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x043E;&#x0432; &#x0438; &#x0432;&#x043D;&#x043E;&#x0441;&#x0438;&#x0442;&#x044C;
&#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x0432; &#x044F;&#x0434;&#x0440;&#x043E;.
<a 
 id="x1-4001r4"></a>
<h3 class="sectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-50002"></a>&#x041F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;</h3>
<!--l. 105--><p class="noindent" >&#x0414;&#x043B;&#x044F; &#x043A;&#x0430;&#x0436;&#x0434;&#x043E;&#x0433;&#x043E; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430; &#x0438;&#x0437; &#x0438;&#x043D;&#x0434;&#x0438;&#x0432;&#x0438;&#x0434;&#x0443;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F;:
     <ul class="itemize1">
     <li class="itemize">&#x041F;&#x0440;&#x0438;&#x0432;&#x0435;&#x0441;&#x0442;&#x0438; &#x043E;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D;&#x0438;&#x0435;.
     </li>
     <li class="itemize">&#x0420;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0430;&#x0442;&#x044C; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0443; &#x0441; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;&#x043E;&#x043C; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;.
     </li>
     <li class="itemize">&#x041E;&#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0438;&#x0442;&#x044C; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430; &#x0447;&#x0435;&#x0440;&#x0435;&#x0445; &#x0445;&#x0443;&#x043A;.
     </li>
     <li class="itemize">&#x041F;&#x0440;&#x043E;&#x0430;&#x043D;&#x0430;&#x043B;&#x0438;&#x0437;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x0442;&#x044C; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0439; &#x043A;&#x043E;&#x0434; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;.</li></ul>
<a 
 id="x1-5001r5"></a>
<h3 class="sectionHead"><span class="titlemark">1.3   </span> <a 
 id="x1-60003"></a>&#x0418;&#x043D;&#x0434;&#x0438;&#x0432;&#x0438;&#x0434;&#x0443;&#x0430;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x0438;&#x0435;</h3>
<!--l. 116--><p class="noindent" >&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0435; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x044B;:
     <ul class="itemize1">
     <li class="itemize">sys_getpid
     </li>
     <li class="itemize">sys_setpid
     </li>
     <li class="itemize">sys_chdir
     </li>
     <li class="itemize">sys_sysinfo</li></ul>
<a 
 id="x1-6001r6"></a>
<h3 class="sectionHead"><span class="titlemark">1.4   </span> <a 
 id="x1-70004"></a>&#x0425;&#x0430;&#x0440;&#x0430;&#x043A;&#x0442;&#x0435;&#x0440;&#x0438;&#x0441;&#x0442;&#x0438;&#x043A;&#x0438; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B;</h3>
   <!--l. 127--><div class="lstinputlisting">
<a 
 id="x1-7001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-7002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">who</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-7003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tty7</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2018</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">05</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">07</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">02:57</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(:0)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-7004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~</span><span 
class="lass-0900">$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">cat</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">proc</span><span 
class="lass-0900">/</span><span 
class="lass-0900">version</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-7005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Linux</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">version</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4.4.0</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">121</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">generic</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">buildd@lcy01</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">amd64</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">004)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">gcc</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">version</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5.4.0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">20160609</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">Ubuntu</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5.4.0</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">6</span><span 
class="lass-0900">ubuntu1</span><span 
class="lass-0900">~16.04.9)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">#145</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">Ubuntu</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SMP</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Fri</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Apr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">13</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">13:47:23</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">UTC</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">2018</span>
   </div>
<a 
 id="x1-7006r7"></a>
<h3 class="sectionHead"><span class="titlemark">1.5   </span> <a 
 id="x1-80005"></a>&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0435; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x044B;</h3>
<!--l. 133--><p class="noindent" >&#x0412; &#x043A;&#x043E;&#x043D;&#x0435;&#x0447;&#x043D;&#x043E;&#x043C; &#x0438;&#x0442;&#x043E;&#x0433;&#x0435;, &#x0433;&#x043B;&#x0430;&#x0432;&#x043D;&#x0430;&#x044F; &#x0437;&#x0430;&#x0434;&#x0430;&#x0447;&#x0430; &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B; &#8212; &#x044D;&#x0442;&#x043E; &#x043E;&#x0431;&#x0441;&#x043B;&#x0443;&#x0436;&#x0438;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x043F;&#x043E;&#x0442;&#x0440;&#x0435;&#x0431;&#x043D;&#x043E;&#x0441;&#x0442;&#x0435;&#x0439; &#x043F;&#x0440;&#x0438;&#x043A;&#x043B;&#x0430;&#x0434;&#x043D;&#x044B;&#x0445;
&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x0438;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;. &#x0418; &#x043E;&#x0431;&#x0435;&#x0441;&#x043F;&#x0435;&#x0447;&#x0438;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x044D;&#x0442;&#x043E; &#x043E;&#x0431;&#x0441;&#x043B;&#x0443;&#x0436;&#x0438;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x043C;&#x0435;&#x0445;&#x0430;&#x043D;&#x0438;&#x0437;&#x043C; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432;.
<!--l. 135--><p class="indent" >   &#x0412; &#x043B;&#x044E;&#x0431;&#x043E;&#x0439; (&#x0432; &#x0442;&#x043E;&#x043C; &#x0447;&#x0438;&#x0441;&#x043B;&#x0435; &#x0438; &#x043C;&#x0438;&#x043A;&#x0440;&#x043E;&#x044F;&#x0434;&#x0435;&#x0440;&#x043D;&#x043E;&#x0439;) &#x043E;&#x043F;&#x0435;&#x0440;&#x0430;&#x0446;&#x0438;&#x043E;&#x043D;&#x043D;&#x043E;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0435; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x043D;&#x0435;&#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439;
&#x0432;&#x044B;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0440;&#x043D;&#x043E;&#x0439; &#x0438;&#x043D;&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439;, &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x044E;&#x0449;&#x0435;&#x0439; &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;&#x0434;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x043D;&#x043E;&#x0435; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434; &#x0438; &#x043F;&#x0435;&#x0440;&#x0435;&#x0434;&#x0430;&#x044E;&#x0449;&#x0438;&#x0439;
&#x0443;&#x043F;&#x0440;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x043A;&#x043E;&#x0434;&#x0443; &#x0440;&#x0435;&#x0436;&#x0438;&#x043C;&#x0430; &#x0441;&#x0443;&#x043F;&#x0435;&#x0440;&#x0432;&#x0438;&#x0437;&#x043E;&#x0440;&#x0430;. &#x042D;&#x0442;&#x043E; &#x043E;&#x0431;&#x044B;&#x0447;&#x043D;&#x043E; &#x043D;&#x0435;&#x043A;&#x0430;&#x044F; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x0430; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;, &#x0432; &#x0437;&#x0430;&#x0432;&#x0438;&#x0441;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x0438; &#x043E;&#x0442;
&#x0430;&#x0440;&#x0445;&#x0438;&#x0442;&#x0435;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0440;&#x0430; &#x0432; &#x0440;&#x0430;&#x0437;&#x043D;&#x044B;&#x0435; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0430; &#x044D;&#x0442;&#x043E; &#x0431;&#x044B;&#x043B;&#x0438; &#x043A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x044B; &#x0441; &#x043C;&#x043D;&#x0435;&#x043C;&#x043E;&#x043D;&#x0438;&#x043A;&#x0430;&#x043C;&#x0438; &#x0432;&#x0438;&#x0434;&#x0430;: svc, emt, trap, int &#x0438; &#x0438;&#x043C;
&#x043F;&#x043E;&#x0434;&#x043E;&#x0431;&#x043D;&#x044B;&#x043C;&#x0438; <span class="cite">[<span 
class="labx-1000">?</span>]</span>
                                                                                               
                                                                                               
<!--l. 139--><p class="indent" >   &#x041A;&#x043E;&#x043C;&#x0430;&#x043D;&#x0434;&#x044B; &#x043F;&#x0440;&#x0435;&#x0440;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F; &#x0434;&#x043B;&#x044F; &#x041E;&#x0421;, &#x043F;&#x043E;&#x0441;&#x0442;&#x0440;&#x043E;&#x0435;&#x043D;&#x043D;&#x044B;&#x0445; &#x043D;&#x0430; &#x0430;&#x0440;&#x0445;&#x0438;&#x0442;&#x0435;&#x043A;&#x0442;&#x0443;&#x0440;&#x0435; Intel x86:
   <div class="table">
                                                                                               
                                                                                               
<!--l. 141--><p class="indent" >   <hr class="float"><div class="float" 
>
                                                                                               
                                                                                               
<div class="tabular"> <table id="TBL-1" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-1-1g"><col 
id="TBL-1-1"></colgroup><colgroup id="TBL-1-2g"><col 
id="TBL-1-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-1-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-1-1"  
class="td11"> <!--l. 147--><p class="noindent" >OS                 </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-1-2"  
class="td11"> <!--l. 147--><p class="noindent" >desc     </td></tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-2-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-2-1"  
class="td11"> <!--l. 148--><p class="noindent" >MS-DOS </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-2-2"  
class="td11"> <!--l. 148--><p class="noindent" >21h</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-3-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-3-1"  
class="td11"> <!--l. 149--><p class="noindent" >Windows          </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-3-2"  
class="td11"> <!--l. 149--><p class="noindent" >2Eh     </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-4-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-4-1"  
class="td11"> <!--l. 150--><p class="noindent" >Linux              </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-4-2"  
class="td11"> <!--l. 150--><p class="noindent" >80h      </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-5-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-5-1"  
class="td11"> <!--l. 151--><p class="noindent" >QNX               </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-5-2"  
class="td11"> <!--l. 151--><p class="noindent" >21h      </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-6-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-6-1"  
class="td11"> <!--l. 152--><p class="noindent" >MINIX 3          </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-6-2"  
class="td11"> <!--l. 152--><p class="noindent" >21h      </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-7-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-1-7-1"  
class="td11">               </td></tr></table></div>
                                                                                               
                                                                                               
   </div><hr class="endfloat" />
   </div>
<!--l. 158--><p class="indent" >   &#x041F;&#x0440;&#x0438;&#x043A;&#x043B;&#x0430;&#x0434;&#x043D;&#x043E;&#x0439; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x0442;&#x0440;&#x0435;&#x0431;&#x0443;&#x0435;&#x043C;&#x044B;&#x0435; &#x0435;&#x043C;&#x0443; &#x0441;&#x043B;&#x0443;&#x0436;&#x0431;&#x044B; &#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x043E;&#x043C; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x0447;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430; &#x043A; &#x043C;&#x043D;&#x043E;&#x0436;&#x0435;&#x0441;&#x0442;&#x0432;&#x0443;
&#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A; &#x043B;&#x0438;&#x0431;&#x043E; &#x0432;&#x0438;&#x0434;&#x0430; *.so (&#x0434;&#x0438;&#x043D;&#x0430;&#x043C;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x043E;&#x0435; &#x0441;&#x0432;&#x044F;&#x0437;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;), &#x043B;&#x0438;&#x0431;&#x043E; &#x043F;&#x0440;&#x0438;&#x043A;&#x043E;&#x043C;&#x043F;&#x043E;&#x043D;&#x043E;&#x0432;&#x044B;&#x0432;&#x0430;&#x044F; &#x043A; &#x0441;&#x0435;&#x0431;&#x0435; &#x0444;&#x0440;&#x0430;&#x0433;&#x043C;&#x0435;&#x043D;&#x0442; &#x0438;&#x0437; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438; &#x0432;&#x0438;&#x0434;&#x0430;
*.a (&#x0441;&#x0442;&#x0430;&#x0442;&#x0438;&#x0447;&#x0435;&#x0441;&#x043A;&#x043E;&#x0435; &#x0441;&#x0432;&#x044F;&#x0437;&#x044B;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435;). &#x0421;&#x0430;&#x043C;&#x044B;&#x0435; &#x0438;&#x0437;&#x0432;&#x0435;&#x0441;&#x0442;&#x043D;&#x044B;&#x0435; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;&#x044B; - &#x044D;&#x0442;&#x043E; &#x0441;&#x0442;&#x0430;&#x043D;&#x0434;&#x0430;&#x0440;&#x0442;&#x043D;&#x0430;&#x044F; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0430; &#x044F;&#x0437;&#x044B;&#x043A;&#x0430; &#x0421; libc.so &#x0438;&#x043B;&#x0438;
libpthread.so &#8212; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0430; POSIX &#x043F;&#x043E;&#x0442;&#x043E;&#x043A;&#x043E;&#x0432; <span class="cite">[<span 
class="labx-1000">?</span>]</span>
<!--l. 160--><p class="indent" >   &#x041E;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D;&#x0438;&#x044F; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432; (&#x0432; &#x043E;&#x0442;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; &#x043E;&#x0442; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x0447;&#x043D;&#x044B;&#x0445;) &#x043E;&#x0442;&#x043D;&#x0435;&#x0441;&#x0435;&#x043D;&#x044B; &#x043A; &#x0441;&#x0435;&#x043A;&#x0446;&#x0438;&#x0438; 2 &#x0432; &#x0440;&#x0443;&#x043A;&#x043E;&#x0432;&#x043E;&#x0434;&#x0441;&#x0442;&#x0432;&#x0430;&#x0445; man. &#x0412;&#x0441;&#x0435;
&#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0435; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x044B; &#x0434;&#x0430;&#x043B;&#x0435;&#x0435; &#x043F;&#x0440;&#x0435;&#x043E;&#x0431;&#x0440;&#x0430;&#x0437;&#x0443;&#x044E;&#x0442;&#x0441;&#x044F; &#x0432; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; &#x044F;&#x0434;&#x0440;&#x0430; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; syscall(), 1-&#x043C; &#x043F;&#x0430;&#x0440;&#x0430;&#x043C;&#x0435;&#x0442;&#x0440;&#x043E;&#x043C; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0433;&#x043E; &#x0431;&#x0443;&#x0434;&#x0435;&#x0442;
&#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;, &#x043D;&#x0430;&#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440; __NR_execve.
<!--l. 162--><p class="indent" >   &#x041D;&#x0430;&#x0439;&#x0434;&#x0435;&#x043C; &#x043E;&#x043F;&#x0438;&#x0441;&#x0430;&#x043D;&#x0438;&#x044F; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432; &#x0432; &#x0442;&#x0430;&#x0431;&#x043B;&#x0438;&#x0446;&#x0435; &#x0432;&#x0435;&#x043A;&#x0442;&#x043E;&#x0440;&#x043E;&#x0432; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432; syscall_32.tbl:
   <!--l. 164--><div class="lstinputlisting">
<a 
 id="x1-8001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">linux</span><span 
class="lass-0900">/</span><span 
class="lass-0900">arch</span><span 
class="lass-0900">/</span><span 
class="lass-0900">x86</span><span 
class="lass-0900">/</span><span 
class="lass-0900">entry</span><span 
class="lass-0900">/</span><span 
class="lass-0900">syscalls</span><span 
class="lass-0900">/</span><span 
class="lass-0900">syscall_32</span><span 
class="lass-0900">.</span><span 
class="lass-0900">tbl</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">32</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">bit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">system</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">call</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">numbers</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">and</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">entry</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">vectors</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">The</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">format</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">is</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">number</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">abi</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">name</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">entry</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">point</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">compat</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">entry</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">point</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">#</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">12</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">i386</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chdir</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sys_chdir</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__ia32_sys_chdir</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">20</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">i386</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getpid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sys_getpid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__ia32_sys_getpid</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">116</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">i386</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sys_sysinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__ia32_compat_sys_sysinfo</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-8023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span>
   </div>
<a 
 id="x1-8024r1"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.1   </span> <a 
 id="x1-90001"></a>&#x041F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432;</h4>
<!--l. 170--><p class="noindent" >&#x0414;&#x043B;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442;&#x0430; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432; &#x0432;&#x043E;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x043C;&#x0441;&#x044F; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x043E;&#x0439; kmod_hooking <span class="cite">[<span 
class="labx-1000">?</span>]</span> &#x0414;&#x0430;&#x043D;&#x043D;&#x0430;&#x044F; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0430; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0442;
&#x043D;&#x0430;&#x0431;&#x043E;&#x0440; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0439; &#x0434;&#x043B;&#x044F; &#x0440;&#x0435;&#x0433;&#x0438;&#x0441;&#x0442;&#x0440;&#x0430;&#x0446;&#x0438;&#x0438; &#x0438; &#x0441;&#x043D;&#x044F;&#x0442;&#x0438;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442;&#x0447;&#x0438;&#x043A;&#x043E;&#x0432; &#x0441; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0439;. &#x041F;&#x0440;&#x0438;&#x043D;&#x0446;&#x0438;&#x043F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B;
&#x043E;&#x0441;&#x043D;&#x043E;&#x0432;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043D;&#x0430; &#x043F;&#x043E;&#x0434;&#x043C;&#x0435;&#x043D;&#x0435; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x0432;&#x043D;&#x0443;&#x0442;&#x0440;&#x0438; &#x044F;&#x0434;&#x0440;&#x0430;. &#x0421;&#x0438;&#x043D;&#x0442;&#x0430;&#x043A;&#x0441;&#x0438;&#x0441; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430; &#x0438;&#x043B;&#x043B;&#x044E;&#x0441;&#x0442;&#x0440;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0438;&#x043C; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;&#x043E;&#x043C;
&#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442;&#x0430; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0439; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; inode_permission:
   <!--l. 172--><div class="lstinputlisting">
<a 
 id="x1-9001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">linux</span><span 
class="lass-0900">/</span><span 
class="lass-0900">fs</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">DECLARE_KHOOK</span><span 
class="lass-0900">(</span><span 
class="lass-0900">inode_permission</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">khook_inode_permission</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inode</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inode</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mode</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_USAGE_INC</span><span 
class="lass-0900">(</span><span 
class="lass-0900">inode_permission</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">debug</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">(%</span><span 
class="lass-0900">pK</span><span 
class="lass-0900">,%08</span><span 
class="lass-0900">x</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">]\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__func__</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inode</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mode</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">comm</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_ORIGIN</span><span 
class="lass-0900">(</span><span 
class="lass-0900">inode_permission</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inode</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mode</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">debug</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">(%</span><span 
class="lass-0900">pK</span><span 
class="lass-0900">,%08</span><span 
class="lass-0900">x</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__func__</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inode</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mode</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">current</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">comm</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_USAGE_DEC</span><span 
class="lass-0900">(</span><span 
class="lass-0900">inode_permission</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span>
   </div>
<!--l. 174--><p class="indent" >   DECLARE_KHOOK &#x0443;&#x043A;&#x0430;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; &#x043D;&#x0430; &#x0442;&#x043E;, &#x043A;&#x0430;&#x043A;&#x0438;&#x0435; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x044F;&#x0432;&#x043B;&#x044F;&#x044E;&#x0442;&#x0441;&#x044F; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442;&#x0447;&#x0438;&#x043A;&#x0430;&#x043C;&#x0438;. KHOOK_USAGE_INC &#x0438;
KHOOK_USAGE_DEC &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x044F;&#x044E;&#x0442; &#x043E;&#x0431;&#x043B;&#x0430;&#x0441;&#x0442;&#x044C;, &#x0432; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0445;&#x0443;&#x043A;. KHOOK_ORIGIN &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;
&#x043D;&#x0435;&#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; &#x0441; &#x0437;&#x0430;&#x0434;&#x0430;&#x043D;&#x043D;&#x044B;&#x043C;&#x0438; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430;&#x043C;&#x0438;.
<!--l. 176--><p class="indent" >   &#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x0441;&#x043E;&#x0431;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x043E;&#x0434;&#x0430; &#x0432; &#x044F;&#x0434;&#x0440;&#x043E; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; &#x043C;&#x043E;&#x0434;&#x0443;&#x043B;&#x0435;&#x0439;. &#x041C;&#x043E;&#x0434;&#x0443;&#x043B;&#x0438; &#x0440;&#x0430;&#x0441;&#x043F;&#x043E;&#x043B;&#x0430;&#x0433;&#x0430;&#x044E;&#x0442;&#x0441;&#x044F;
&#x0432; &#x0434;&#x0438;&#x0440;&#x0435;&#x043A;&#x0442;&#x043E;&#x0440;&#x0438;&#x0438; /lib/modules/$(uname -r). &#x0421;&#x0431;&#x043E;&#x0440;&#x043A;&#x0430; &#x0431;&#x0438;&#x0431;&#x043B;&#x0438;&#x043E;&#x0442;&#x0435;&#x043A;&#x0438; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x043F;&#x0440;&#x0438; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x0438; &#x0441;&#x043B;&#x0435;&#x0434;&#x0443;&#x044E;&#x0449;&#x0435;&#x0433;&#x043E;
makefile:
   <!--l. 178--><div class="lstinputlisting">
<a 
 id="x1-9025"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9026r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">NAME</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooking</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9027r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9028r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">obj</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">m</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">$</span><span 
class="lass-0900">(</span><span 
class="lass-0900">NAME</span><span 
class="lass-0900">)</span><span 
class="lass-0900">.</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9029r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">obj</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">y</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">libudis86</span><span 
class="lass-0900">/</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9030r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9031r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">ldflags</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">y</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">T$</span><span 
class="lass-0900">(</span><span 
class="lass-0900">src</span><span 
class="lass-0900">)</span><span 
class="lass-0900">/</span><span 
class="lass-0900">layout</span><span 
class="lass-0900">.</span><span 
class="lass-0900">lds</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9032r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9033r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">$</span><span 
class="lass-0900">(</span><span 
class="lass-0900">NAME</span><span 
class="lass-0900">)</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">y</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">module</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">init</span><span 
class="lass-0900">.</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">libudis86</span><span 
class="lass-0900">/</span><span 
class="lass-0900">built</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">in</span><span 
class="lass-0900">.</span><span 
class="lass-0900">o</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9034r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9035r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">all</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9036r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">make</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">C</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">/</span><span 
class="lass-0900">modules</span><span 
class="lass-0900">/</span><span 
class="lass-0900">$</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">uname</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">r</span><span 
class="lass-0900">)</span><span 
class="lass-0900">/</span><span 
class="lass-0900">build</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">M</span><span 
class="lass-0900">=</span><span 
class="lass-0900">$</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pwd</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9037r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9038r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">clean</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9039r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">make</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">C</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">lib</span><span 
class="lass-0900">/</span><span 
class="lass-0900">modules</span><span 
class="lass-0900">/</span><span 
class="lass-0900">$</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">uname</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">r</span><span 
class="lass-0900">)</span><span 
class="lass-0900">/</span><span 
class="lass-0900">build</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">M</span><span 
class="lass-0900">=</span><span 
class="lass-0900">$</span><span 
class="lass-0900">(</span><span 
class="lass-0900">shell</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pwd</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">clean</span>
   </div>
<!--l. 180--><p class="indent" >   &#x0414;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x043D;&#x043E;&#x0432;&#x043E;&#x0433;&#x043E; &#x043C;&#x043E;&#x0434;&#x0443;&#x043B;&#x044F; &#x0432; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0443; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0443;&#x0442;&#x0438;&#x043B;&#x0438;&#x0442;&#x0443; insmod:
   <!--l. 182--><div class="lstinputlisting">
<a 
 id="x1-9040"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9041r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">temp</span><span 
class="lass-0900">/</span><span 
class="lass-0900">kmod_hooking$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">insmod</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooking</span><span 
class="lass-0900">.</span><span 
class="lass-0900">ko</span>
   </div>
<!--l. 184--><p class="indent" >   &#x0423;&#x0434;&#x0430;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435; &#x043C;&#x043E;&#x0434;&#x0443;&#x043B;&#x044F; &#x0438;&#x0437; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x0443; &#x043F;&#x0440;&#x043E;&#x0438;&#x0437;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0443;&#x0442;&#x0438;&#x043B;&#x0438;&#x0442;&#x0443; rmmod:
   <!--l. 186--><div class="lstinputlisting">
<a 
 id="x1-9042"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-9043r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">temp</span><span 
class="lass-0900">/</span><span 
class="lass-0900">kmod_hooking$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sudo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rmmod</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooking</span>
   </div>
<a 
 id="x1-9044r11"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.2   </span> <a 
 id="x1-100002"></a>&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_getpid</h4>
<!--l. 190--><p class="noindent" >&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_getpid() &#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x0442; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440; &#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;. &#x041F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x0430;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;
getpid() &#x043F;&#x0440;&#x0435;&#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x043C;&#x0443; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0443; &#x0438; &#x043E;&#x0431;&#x044A;&#x044F;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0437;&#x0430;&#x0433;&#x043E;&#x043B;&#x043E;&#x0432;&#x043E;&#x0447;&#x043D;&#x043E;&#x043C; &#x0444;&#x0430;&#x0439;&#x043B;&#x0435;
unistd.h.
                                                                                               
                                                                                               
<h5 class="subsubsectionHead"><a 
 id="x1-110002"></a>&#x041F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</h5>
<!--l. 194--><p class="noindent" >&#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; &#x043D;&#x0435; &#x043F;&#x0440;&#x0438;&#x043D;&#x0438;&#x043C;&#x0430;&#x0435;&#x0442; &#x043D;&#x0438;&#x043A;&#x0430;&#x043A;&#x0438;&#x0445; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x043E;&#x0432; &#x0438; &#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x0442; &#x0446;&#x0435;&#x043B;&#x043E;&#x0447;&#x0438;&#x0441;&#x043B;&#x0435;&#x043D;&#x043D;&#x044B;&#x0439; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;:
   <!--l. 196--><div class="lstinputlisting">
<a 
 id="x1-11001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PID</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getpid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 198--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 200--><div class="lstinputlisting">
<a 
 id="x1-11009"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11010r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11011r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9225</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11012r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PID</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9225</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-11013r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Done</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span>
   </div>
<h5 class="subsubsectionHead"><a 
 id="x1-120002"></a>&#x041E;&#x0442;&#x0441;&#x043B;&#x0435;&#x0436;&#x0438;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;</h5>
<!--l. 204--><p class="noindent" >&#x041F;&#x043E;&#x043F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C; &#x043E;&#x0442;&#x0441;&#x043B;&#x0435;&#x0434;&#x0438;&#x0442;&#x044C; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; &#x0432; &#x043F;&#x0440;&#x0435;&#x0434;&#x044B;&#x0434;&#x0443;&#x0449;&#x0435;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0443;&#x0442;&#x0438;&#x043B;&#x0438;&#x0442;&#x0443; strace:
   <!--l. 206--><div class="lstinputlisting">
<a 
 id="x1-12001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strace</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">execve</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[</span><span 
class="lass-0900">"</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">"</span><span 
class="lass-0900">],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[</span><span 
class="lasi-0900">/</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">74</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">vars</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">/</span><span 
class="lass-0900">])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">brk</span><span 
class="lass-0900">(</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x1418000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">brk</span><span 
class="lass-0900">(0</span><span 
class="lass-0900">x144a000</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x144a000</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">getpid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9225</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">fstat</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">st_mode</span><span 
class="lass-0900">=</span><span 
class="lass-0900">S_IFCHR</span><span 
class="lass-0900">|0620,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">st_rdev</span><span 
class="lass-0900">=</span><span 
class="lass-0900">makedev</span><span 
class="lass-0900">(136,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">19)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...})</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">write</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PID</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9225\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">18</span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PID</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9225</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">18</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">exit_group</span><span 
class="lass-0900">(0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">?</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-12014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">+++</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exited</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+++</span>
   </div>
<!--l. 208--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; getpid &#x0438; &#x0432;&#x044B;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x043D;&#x0430; &#x044D;&#x043A;&#x0440;&#x0430;&#x043D; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; write, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0447;&#x0435;&#x0433;&#x043E;
&#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0430; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;.
<h5 class="subsubsectionHead"><a 
 id="x1-130002"></a>&#x041F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;</h5>
<!--l. 212--><p class="noindent" >&#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0443;&#x0435;&#x043C; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430; sys_getpid &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; kmod_hooking:
   <!--l. 214--><div class="lstinputlisting">
<a 
 id="x1-13001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">linux</span><span 
class="lass-0900">/</span><span 
class="lass-0900">syscalls</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">DECLARE_KHOOK</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_getpid</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">khook_sys_getpid</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_USAGE_INC</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_getpid</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_ORIGIN</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_getpid</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printk</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Syscall</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">sys_getpid</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooked</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Result</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_USAGE_DEC</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_getpid</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span>
   </div>
<!--l. 216--><p class="indent" >   &#x0414;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x043E;&#x0434; &#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; linux &#x043A;&#x0430;&#x043A; &#x043C;&#x043E;&#x0434;&#x0443;&#x043B;&#x044C; &#x044F;&#x0434;&#x0440;&#x0430;, &#x0430; &#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0436;&#x0443;&#x0440;&#x043D;&#x0430;&#x043B;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0444;&#x0430;&#x0439;&#x043B; kern.log. &#x0423;&#x0431;&#x0435;&#x0434;&#x0438;&#x043C;&#x0441;&#x044F;
&#x0432; &#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043B;&#x044C;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0445;&#x0443;&#x043A;&#x0430;:
   <!--l. 218--><div class="lstinputlisting">
<a 
 id="x1-13020"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13021r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13022r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">[1]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9431</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13023r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PID</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9431</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13024r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">[1]+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Done</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13025r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tail</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">var</span><span 
class="lass-0900">/</span><span 
class="lass-0900">log</span><span 
class="lass-0900">/</span><span 
class="lass-0900">kern</span><span 
class="lass-0900">.</span><span 
class="lass-0900">log</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13026r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:55</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.557046]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sse2x2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">xor</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">8688</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13027r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.625101]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sse2x4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gen</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">15389</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13028r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692700]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sse2x4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">xor</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10589</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13029r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692702]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">algorithm</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sse2x4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gen</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">15389</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13030r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692703]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">....</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">xor</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10589</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rmw</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">enabled</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13031r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692704]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ssse3x2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recovery</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">algorithm</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13032r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.693802]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">xor</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">automatically</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">best</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">checksumming</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">function</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13033r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.732719]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">avx</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">20010.000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sec</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13034r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.749930]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Btrfs</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">loaded</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-13035r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">08:20:33</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[19386.834543]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Syscall</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">sys_getpid</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooked</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Result</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9431.</span>
   </div>
<!--l. 220--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x0432; kern.log &#x043F;&#x043E;&#x044F;&#x0432;&#x0438;&#x043B;&#x0430;&#x0441;&#x044C; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x043E; &#x043F;&#x043E;&#x043F;&#x044B;&#x0442;&#x043A;&#x0435; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x043C;&#x0443; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0443;
sys_getpid.
<h5 class="subsubsectionHead"><a 
 id="x1-140002"></a>&#x0410;&#x043D;&#x0430;&#x043B;&#x0438;&#x0437; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x043E;&#x0434;&#x0430;</h5>
<!--l. 224--><p class="noindent" >&#x041F;&#x0440;&#x043E;&#x0442;&#x043E;&#x0442;&#x0438;&#x043F; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430; sys_getpid &#x043D;&#x0430;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0432; include/linux/syscalls.h &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445; &#x044F;&#x0434;&#x0440;&#x0430; linux
<span class="cite">[<span 
class="labx-1000">?</span>]</span>:
   <!--l. 226-->
<div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-14001r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">include</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">linux</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">syscalls</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">h</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14002r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14003r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">asmlinkage</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sys_getpid</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">void</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span>
   </div>
<!--l. 232--><p class="indent" >   &#x041D;&#x0435;&#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; sys_getpid &#x043D;&#x0430;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0432; kernel/sys.c &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445; &#x044F;&#x0434;&#x0440;&#x0430; linux
<span class="cite">[<span 
class="labx-1000">?</span>]</span>:
   <!--l. 234-->
<div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x1-14004r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">kernel</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">sys</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14005r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14006r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">SYSCALL_DEFINE0</span><span 
class="lass-0900">(</span><span 
class="lass-0900">getpid</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14007r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14008r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">task_tgid_vnr</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14009r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 243--><p class="indent" >   &#x041C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0437;&#x0430;&#x043C;&#x0435;&#x0442;&#x0438;&#x0442;&#x044C;, &#x0447;&#x0442;&#x043E; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; &#x044F;&#x0434;&#x0440;&#x0430; task_tgid_vnr, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x0432; &#x0441;&#x0432;&#x043E;&#x044E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;
__task_pid_nr_ns &#x0432; kernel/pid.c &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445; &#x044F;&#x0434;&#x0440;&#x0430; linux <span class="cite">[<span 
class="labx-1000">?</span>]</span>:
   <!--l. 245--><div class="lstinputlisting">
                                                                                               
                                                                                               
<a 
 id="x1-14010"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14011r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">kernel</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">pid</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14012r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14013r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">pid_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__task_pid_nr_ns</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">task_struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">task</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">enum</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_type</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">type</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14014r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_namespace</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">ns</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14015r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14016r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14017r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14018r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rcu_read_lock</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14019r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">ns</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14020r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ns</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">task_active_pid_ns</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14021r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">likely</span><span 
class="lass-0900">(</span><span 
class="lass-0900">pid_alive</span><span 
class="lass-0900">(</span><span 
class="lass-0900">task</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14022r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">type</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">!=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIDTYPE_PID</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14023r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">type</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__PIDTYPE_TGID</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14024r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">type</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">PIDTYPE_PID</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14025r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14026r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">task</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">task</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">group_leader</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14027r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14028r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_nr_ns</span><span 
class="lass-0900">(</span><span 
class="lass-0900">rcu_dereference</span><span 
class="lass-0900">(</span><span 
class="lass-0900">task</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">pids</span><span 
class="lass-0900">[</span><span 
class="lass-0900">type</span><span 
class="lass-0900">].</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ns</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14029r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14030r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rcu_read_unlock</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14031r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14032r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14033r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 247--><p class="indent" >   &#x041D;&#x0430; &#x0432;&#x0440;&#x0435;&#x043C;&#x044F; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x0431;&#x043B;&#x043E;&#x043A;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x0435;, &#x043F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x043D;&#x0430;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; &#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x0438; &#x043D;&#x0430;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; gpid, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435;
&#x0447;&#x0435;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; pid_nr_ns:
   <!--l. 249--><div class="lstinputlisting">
<a 
 id="x1-14034"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14035r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">kernel</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">pid</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14036r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14037r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">pid_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_nr_ns</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_namespace</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">ns</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14038r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14039r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">upid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">upid</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14040r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_t</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14041r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14042r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;&amp;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ns</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">level</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">level</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14043r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">upid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">pid</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">numbers</span><span 
class="lass-0900">[</span><span 
class="lass-0900">ns</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">level</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14044r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">upid</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">ns</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ns</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14045r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">upid</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14046r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14047r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-14048r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 251--><p class="indent" >   &#x0415;&#x0441;&#x043B;&#x0438; &#x043E;&#x0431;&#x0430; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430; (&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B; pid &#x0438; pid_namespace) &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x044B;, &#x0442;&#x043E; &#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; pid &#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0435;&#x0433;&#x043E; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;, &#x0432;
&#x043F;&#x0440;&#x043E;&#x0442;&#x0438;&#x0432;&#x043D;&#x043E;&#x043C; &#x0441;&#x043B;&#x0443;&#x0447;&#x0430;&#x0435; &#x0432;&#x043E;&#x0437;&#x0432;&#x0440;&#x0430;&#x0449;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; 0.
<a 
 id="x1-14049r16"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.3   </span> <a 
 id="x1-150003"></a>&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_setpid</h4>
<!--l. 255--><p class="noindent" >&#x0422;&#x0430;&#x043A;&#x043E;&#x0433;&#x043E; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;, &#x043E;&#x0447;&#x0435;&#x0432;&#x0438;&#x0434;&#x043D;&#x043E;, &#x043D;&#x0435; &#x0441;&#x0443;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0443;&#x0435;&#x0442;, &#x043F;&#x043E;&#x0442;&#x043E;&#x043C;&#x0443; &#x0447;&#x0442;&#x043E; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430; &#x0437;&#x0430;&#x0434;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0435;&#x0434;&#x0438;&#x043D;&#x043E;&#x0436;&#x0434;&#x044B; &#x043F;&#x0440;&#x0438;
&#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0435; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;.
<!--l. 257--><p class="indent" >   &#x0414;&#x043B;&#x044F; &#x0432;&#x044B;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F; &#x043D;&#x043E;&#x0432;&#x043E;&#x0433;&#x043E; pid &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; alloc_pid:
   <!--l. 259--><div class="lstinputlisting">
<a 
 id="x1-15001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">kernel</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">pid</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">alloc_pid</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_namespace</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">ns</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kmem_cache_alloc</span><span 
class="lass-0900">(</span><span 
class="lass-0900">ns</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">pid_cachep</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GFP_KERNEL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(!</span><span 
class="lass-0900">pid</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ERR_PTR</span><span 
class="lass-0900">(</span><span 
class="lass-0900">retval</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tmp</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ns</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">level</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ns</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">level</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">for</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">i</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ns</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">level</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">i</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">i</span><span 
class="cmsy-9">-</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_min</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">idr_preload</span><span 
class="lass-0900">(</span><span 
class="lass-0900">GFP_KERNEL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">spin_lock_irq</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">pidmap_lock</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">/</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">init</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">really</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">needs</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">pid</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">1,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">but</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">after</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">reaching</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">the</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">maximum</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">wrap</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">back</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">to</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">RESERVED_PIDS</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">/</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">idr_get_cursor</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">tmp</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">idr</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RESERVED_PIDS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_min</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RESERVED_PIDS</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15028r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">/</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15029r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">Store</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">a</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">null</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">pointer</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">so</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">find_pid_ns</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">does</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">not</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">find</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15030r29"></a><span 
class="larm-0500">29</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">a</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">partially</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">initialized</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">PID</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">see</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">below</span><span 
class="lasi-0900">)</span><span 
class="lasi-0900">.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15031r30"></a><span 
class="larm-0500">30</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">/</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15032r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">idr_alloc_cyclic</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">tmp</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">idr</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_min</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15033r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid_max</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">GFP_ATOMIC</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15034r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">spin_unlock_irq</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">pidmap_lock</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15035r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">idr_preload_end</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15036r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15037r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15038r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">retval</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15039r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">goto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">out_free</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15040r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15041r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15042r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">numbers</span><span 
class="lass-0900">[</span><span 
class="lass-0900">i</span><span 
class="lass-0900">].</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nr</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15043r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">pid</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">numbers</span><span 
class="lass-0900">[</span><span 
class="lass-0900">i</span><span 
class="lass-0900">].</span><span 
class="lass-0900">ns</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tmp</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15044r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tmp</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tmp</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">parent</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15045r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15046r45"></a><span 
class="larm-0500">45</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15047r46"></a><span 
class="larm-0500">46</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-15048r47"></a><span 
class="larm-0500">47</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 261--><p class="indent" >   &#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442; kmem_cache_alloc &#x0441; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x043E;&#x043C; &#x0432; &#x0432;&#x0438;&#x0434;&#x0435; &#x043D;&#x0430;&#x0431;&#x043E;&#x0440;&#x0430; &#x043A;&#x044D;&#x0448;&#x0438;&#x0440;&#x043E;&#x0432;&#x0430;&#x043D;&#x043D;&#x044B;&#x0445; &#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440; &#x0434;&#x043B;&#x044F; &#x0432;&#x044B;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x0438;&#x044F;
&#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x043F;&#x043E;&#x0434; &#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0443; &#x043D;&#x043E;&#x0432;&#x043E;&#x0433;&#x043E; pid <span class="cite">[<span 
class="labx-1000">?</span>]</span>.
<!--l. 263--><p class="indent" >   &#x0414;&#x0430;&#x043B;&#x0435;&#x0435; &#x043F;&#x0440;&#x043E;&#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442; &#x0438;&#x043D;&#x0438;&#x0446;&#x0438;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; &#x043F;&#x043E;&#x043B;&#x0435;&#x0439; &#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B; &#x0432; &#x0437;&#x0430;&#x0432;&#x0438;&#x0441;&#x0438;&#x043C;&#x043E;&#x0441;&#x0442;&#x0438; &#x043E;&#x0442; &#x0443;&#x0440;&#x043E;&#x0432;&#x043D;&#x044F; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430; pid_namespace. &#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F;
idr_alloc_cyclic &#x043F;&#x044B;&#x0442;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432;&#x044B;&#x0434;&#x0435;&#x043B;&#x0438;&#x0442;&#x044C; &#x043D;&#x043E;&#x0432;&#x044B;&#x0439; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;. &#x0415;&#x0441;&#x043B;&#x0438; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0438;&#x043B;&#x043E;&#x0441;&#x044C;, &#x0442;&#x043E; &#x0438;&#x0434;&#x0435;&#x043D;&#x0442;&#x0438;&#x0444;&#x0438;&#x043A;&#x0430;&#x0442;&#x043E;&#x0440;
&#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0443;.
<a 
 id="x1-15049r28"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.4   </span> <a 
 id="x1-160004"></a>&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_chdir</h4>
<!--l. 267--><p class="noindent" >&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_chdir() &#x0437;&#x0430;&#x0434;&#x0430;&#x0435;&#x0442; &#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0438;&#x0439; &#x043F;&#x0443;&#x0442;&#x044C; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;. &#x041F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x0430;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; chdir()
&#x043F;&#x0440;&#x0435;&#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x043C;&#x0443; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0443; &#x0438; &#x043E;&#x0431;&#x044A;&#x044F;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0437;&#x0430;&#x0433;&#x043E;&#x043B;&#x043E;&#x0432;&#x043E;&#x0447;&#x043D;&#x043E;&#x043C; &#x0444;&#x0430;&#x0439;&#x043B;&#x0435; unistd.h.
<h5 class="subsubsectionHead"><a 
 id="x1-170004"></a>&#x041F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</h5>
<!--l. 271--><p class="noindent" >&#x0414;&#x043B;&#x044F; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;&#x0430; &#x0432;&#x044B;&#x0432;&#x0435;&#x0434;&#x0435;&#x043C; &#x0442;&#x0435;&#x043A;&#x0443;&#x0449;&#x0438;&#x0439; &#x043F;&#x0443;&#x0442;&#x044C; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;, &#x043F;&#x043E;&#x043C;&#x0435;&#x043D;&#x044F;&#x0435;&#x043C; &#x0435;&#x0433;&#x043E; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0435;&#x0439; chdir() &#x0438; &#x0432;&#x044B;&#x0432;&#x0435;&#x0434;&#x0435;&#x043C; &#x043F;&#x0443;&#x0442;&#x044C; &#x0435;&#x0449;&#x0435; &#x0440;&#x0430;&#x0437;.
&#x041F;&#x0443;&#x0442;&#x044C; &#x0434;&#x043E;&#x043B;&#x0436;&#x0435;&#x043D; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x0442;&#x044C;&#x0441;&#x044F; &#x043D;&#x0430; &#x0430;&#x0440;&#x0433;&#x0443;&#x043C;&#x0435;&#x043D;&#x0442; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; chdir():
   <!--l. 273--><div class="lstinputlisting">
<a 
 id="x1-17001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">unistd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DIRECTORY_PATH_SIZE</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DIRECTORY_PATH</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">"</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentDirectory</span><span 
class="lass-0900">[</span><span 
class="lass-0900">DIRECTORY_PATH_SIZE</span><span 
class="lass-0900">];</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getCurrentDirectory</span><span 
class="lass-0900">()</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directory</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getCurrentDirectory</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chdir</span><span 
class="lass-0900">(</span><span 
class="lass-0900">DIRECTORY_PATH</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">after</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chdir</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getCurrentDirectory</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getCurrentDirectory</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">getcwd</span><span 
class="lass-0900">(</span><span 
class="lass-0900">currentDirectory</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DIRECTORY_PATH_SIZE</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">==</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">NULL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17024r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17025r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17026r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">currentDirectory</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17027r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 275--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 277--><div class="lstinputlisting">
<a 
 id="x1-17028"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17029r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17030r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directory</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">/</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-17031r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">after</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chdir</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span>
   </div>
<h5 class="subsubsectionHead"><a 
 id="x1-180004"></a>&#x041E;&#x0442;&#x0441;&#x043B;&#x0435;&#x0436;&#x0438;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;</h5>
<!--l. 281--><p class="noindent" >&#x041F;&#x043E;&#x043F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C; &#x043E;&#x0442;&#x0441;&#x043B;&#x0435;&#x0434;&#x0438;&#x0442;&#x044C; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; &#x0432; &#x043F;&#x0440;&#x0435;&#x0434;&#x044B;&#x0434;&#x0443;&#x0449;&#x0435;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0443;&#x0442;&#x0438;&#x043B;&#x0438;&#x0442;&#x0443; strace:
   <!--l. 283--><div class="lstinputlisting">
<a 
 id="x1-18001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strace</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">execve</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[</span><span 
class="lass-0900">"</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">"</span><span 
class="lass-0900">],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[</span><span 
class="lasi-0900">/</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">74</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">vars</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">/</span><span 
class="lass-0900">])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">getcwd</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">/</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">49</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">fstat</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">st_mode</span><span 
class="lass-0900">=</span><span 
class="lass-0900">S_IFCHR</span><span 
class="lass-0900">|0620,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">st_rdev</span><span 
class="lass-0900">=</span><span 
class="lass-0900">makedev</span><span 
class="lass-0900">(136,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">19)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...})</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">write</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directory</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">/</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">/</span><span 
class="lass-0900">"</span><span 
class="lass-0900">...,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">68</span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directory</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">/</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">68</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">chdir</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">"</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">getcwd</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">6</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">write</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">after</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chdir</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">"</span><span 
class="lass-0900">...,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">37</span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">after</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chdir</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">37</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">exit_group</span><span 
class="lass-0900">(0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">?</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-18016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">+++</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exited</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+++</span>
                                                                                               
                                                                                               
   </div>
<!--l. 285--><p class="indent" >   &#x041A;&#x0430;&#x043A; &#x0438; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043B;&#x043E;&#x0441;&#x044C;, &#x0431;&#x044B;&#x043B;&#x0430; &#x0432;&#x044B;&#x0437;&#x0432;&#x0430;&#x043D;&#x0430; &#x0446;&#x0435;&#x043F;&#x043E;&#x0447;&#x043A;&#x0430; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432;: getcwd -&#x003E; write -&#x003E; chdir -&#x003E; getcwd -&#x003E; write, &#x0432;
&#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442;&#x0435; &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x043E;&#x0439; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0438;&#x043B;&#x043E;&#x0441;&#x044C; &#x0437;&#x043D;&#x0430;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x043F;&#x0443;&#x0442;&#x044C; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x0430;.
<h5 class="subsubsectionHead"><a 
 id="x1-190004"></a>&#x041F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;</h5>
<!--l. 289--><p class="noindent" >&#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0443;&#x0435;&#x043C; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430; sys_chdir &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; kmod_hooking:
   <!--l. 291--><div class="lstinputlisting">
<a 
 id="x1-19001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">linux</span><span 
class="lass-0900">/</span><span 
class="lass-0900">syscalls</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">DECLARE_KHOOK</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_chdir</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">khook_sys_chdir</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__user</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_USAGE_INC</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_chdir</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_ORIGIN</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_chdir</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printk</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Syscall</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">sys_chdir</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooked</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Arguments</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">s</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Result</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_USAGE_DEC</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_chdir</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span>
   </div>
<!--l. 293--><p class="indent" >   &#x0414;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x043E;&#x0434; &#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; linux &#x043A;&#x0430;&#x043A; &#x043C;&#x043E;&#x0434;&#x0443;&#x043B;&#x044C; &#x044F;&#x0434;&#x0440;&#x0430;, &#x0430; &#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0436;&#x0443;&#x0440;&#x043D;&#x0430;&#x043B;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0444;&#x0430;&#x0439;&#x043B; kern.log. &#x0423;&#x0431;&#x0435;&#x0434;&#x0438;&#x043C;&#x0441;&#x044F;
&#x0432; &#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043B;&#x044C;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0445;&#x0443;&#x043A;&#x0430;:
   <!--l. 295--><div class="lstinputlisting">
<a 
 id="x1-19020"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19021r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19022r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directory</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">/</span><span 
class="lass-0900">nikita</span><span 
class="lass-0900">/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19023r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Current</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">directory</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">after</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">chdir</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19024r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tail</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">var</span><span 
class="lass-0900">/</span><span 
class="lass-0900">log</span><span 
class="lass-0900">/</span><span 
class="lass-0900">kern</span><span 
class="lass-0900">.</span><span 
class="lass-0900">log</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19025r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.625101]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sse2x4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gen</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">15389</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19026r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692700]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sse2x4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">xor</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10589</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19027r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692702]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">algorithm</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sse2x4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gen</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">15389</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19028r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692703]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">....</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">xor</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10589</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rmw</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">enabled</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19029r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692704]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ssse3x2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recovery</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">algorithm</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19030r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.693802]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">xor</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">automatically</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">best</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">checksumming</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">function</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19031r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.732719]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">avx</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">20010.000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sec</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19032r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.749930]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Btrfs</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">loaded</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19033r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">08:20:33</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[19386.834543]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Syscall</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">sys_getpid</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooked</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Result</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9431.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-19034r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">08:21:32</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[19445.923432]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Syscall</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">sys_chdir</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooked</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Arguments</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Result</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0.</span>
   </div>
<!--l. 297--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x0432; kern.log &#x043F;&#x043E;&#x044F;&#x0432;&#x0438;&#x043B;&#x0430;&#x0441;&#x044C; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x043E; &#x043F;&#x043E;&#x043F;&#x044B;&#x0442;&#x043A;&#x0435; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x043C;&#x0443; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0443;
sys_chdir.
<h5 class="subsubsectionHead"><a 
 id="x1-200004"></a>&#x0410;&#x043D;&#x0430;&#x043B;&#x0438;&#x0437; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x043E;&#x0434;&#x0430;</h5>
<!--l. 301--><p class="noindent" >&#x041F;&#x0440;&#x043E;&#x0442;&#x043E;&#x0442;&#x0438;&#x043F; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430; sys_chdir &#x043D;&#x0430;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0432; include/linux/syscalls.h &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445; &#x044F;&#x0434;&#x0440;&#x0430; linux
<span class="cite">[<span 
class="labx-1000">?</span>]</span>:
   <!--l. 303-->
<div class="lstlisting" id="listing-3"><span class="label"><a 
 id="x1-20001r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">include</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">linux</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">syscalls</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">h</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20002r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20003r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">asmlinkage</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sys_chdir</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__user</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span>
   </div>
<!--l. 309--><p class="indent" >   &#x041D;&#x0435;&#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; sys_chdir &#x043D;&#x0430;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0432; kernel/sys.c &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445; &#x044F;&#x0434;&#x0440;&#x0430; linux <span class="cite">[<span 
class="labx-1000">?</span>]</span>:
   <!--l. 311-->
<div class="lstlisting" id="listing-4"><span class="label"><a 
 id="x1-20004r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">kernel</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">sys</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20005r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20006r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">SYSCALL_DEFINE1</span><span 
class="lass-0900">(</span><span 
class="lass-0900">chdir</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__user</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20007r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20008r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ksys_chdir</span><span 
class="lass-0900">(</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20009r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 320--><p class="indent" >   &#x041C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0437;&#x0430;&#x043C;&#x0435;&#x0442;&#x0438;&#x0442;&#x044C;, &#x0447;&#x0442;&#x043E; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; &#x044F;&#x0434;&#x0440;&#x0430; ksys_chdir &#x0432; fs/open.c &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445; &#x044F;&#x0434;&#x0440;&#x0430; linux
<span class="cite">[<span 
class="labx-1000">?</span>]</span>:
   <!--l. 322--><div class="lstinputlisting">
<a 
 id="x1-20010"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20011r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">fs</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">open</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20012r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20013r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ksys_chdir</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">char</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__user</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20014r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20015r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">path</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">path</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20016r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">error</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20017r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">lookup_flags</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOOKUP_FOLLOW</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOOKUP_DIRECTORY</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20018r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">retry</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20019r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">error</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">user_path_at</span><span 
class="lass-0900">(</span><span 
class="lass-0900">AT_FDCWD</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">filename</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">lookup_flags</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">path</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20020r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">error</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20021r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">goto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">out</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20022r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20023r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">error</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">inode_permission</span><span 
class="lass-0900">(</span><span 
class="lass-0900">path</span><span 
class="lass-0900">.</span><span 
class="lass-0900">dentry</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">d_inode</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MAY_EXEC</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MAY_CHDIR</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20024r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">error</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20025r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">goto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">dput_and_out</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20026r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20027r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set_fs_pwd</span><span 
class="lass-0900">(</span><span 
class="lass-0900">current</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">fs</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">path</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20028r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20029r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">dput_and_out</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20030r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">path_put</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">path</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20031r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">retry_estale</span><span 
class="lass-0900">(</span><span 
class="lass-0900">error</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">lookup_flags</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20032r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">lookup_flags</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">|=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">LOOKUP_REVAL</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20033r23"></a><span 
class="larm-0500">23</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">goto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">retry</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20034r24"></a><span 
class="larm-0500">24</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20035r25"></a><span 
class="larm-0500">25</span></span><span 
class="lass-0900">out</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20036r26"></a><span 
class="larm-0500">26</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">error</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20037r27"></a><span 
class="larm-0500">27</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 324--><p class="indent" >   &#x0424;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0432;&#x0435;&#x0440;&#x044F;&#x0435;&#x0442; &#x043D;&#x0430;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; &#x0437;&#x0430;&#x0434;&#x0430;&#x0432;&#x0430;&#x0435;&#x043C;&#x043E;&#x0433;&#x043E; &#x043F;&#x0443;&#x0442;&#x0438; &#x0438; &#x043D;&#x0430;&#x043B;&#x0438;&#x0447;&#x0438;&#x0435; &#x043F;&#x0440;&#x0430;&#x0432; &#x043D;&#x0430; &#x0435;&#x0433;&#x043E; &#x0438;&#x0437;&#x043C;&#x0435;&#x043D;&#x0435;&#x043D;&#x0438;&#x0435;. &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F;
&#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; set_fs_pwd, &#x043A;&#x043E;&#x0442;&#x043E;&#x0440;&#x0430;&#x044F; &#x043D;&#x0435;&#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E; &#x0437;&#x0430;&#x0434;&#x0430;&#x0435;&#x0442; &#x043F;&#x0443;&#x0442;&#x044C;:
   <!--l. 326--><div class="lstinputlisting">
<a 
 id="x1-20038"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20039r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">fs</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">open</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20040r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20041r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">void</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">set_fs_pwd</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fs_struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">fs</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">path</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">path</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20042r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20043r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">path</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">old_pwd</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20044r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20045r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">path_get</span><span 
class="lass-0900">(</span><span 
class="lass-0900">path</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20046r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">spin_lock</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">fs</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">lock</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20047r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write_seqcount_begin</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">fs</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">seq</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20048r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">old_pwd</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fs</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">pwd</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20049r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">fs</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">pwd</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">path</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20050r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">write_seqcount_end</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">fs</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">seq</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20051r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">spin_unlock</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">fs</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">lock</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20052r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20053r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">old_pwd</span><span 
class="lass-0900">.</span><span 
class="lass-0900">dentry</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20054r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">path_put</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">old_pwd</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-20055r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">}</span>
   </div>
<a 
 id="x1-20056r30"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.5   </span> <a 
 id="x1-210005"></a>&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_sysinfo</h4>
<!--l. 330--><p class="noindent" >&#x0421;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; sys_sysinfo() &#x0432;&#x044B;&#x0432;&#x043E;&#x0434;&#x0438;&#x0442; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x0443;&#x044E; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044E;, &#x0442;&#x0430;&#x043A;&#x0443;&#x044E; &#x043A;&#x0430;&#x043A;: &#x0432;&#x0440;&#x0435;&#x043C;&#x044F; &#x0441; &#x043C;&#x043E;&#x043C;&#x0435;&#x043D;&#x0442;&#x0430; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x044B; &#x0432;
&#x0441;&#x0435;&#x043A;&#x0443;&#x043D;&#x0434;&#x0430;&#x0445;, &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x0438; &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x0441;&#x0432;&#x043E;&#x0431;&#x043E;&#x0434;&#x043D;&#x043E; &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438; &#x0432; &#x0431;&#x0430;&#x0439;&#x0442;&#x0430;&#x0445;, &#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x0430;&#x043A;&#x0442;&#x0438;&#x0432;&#x043D;&#x044B;&#x0445; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432;, &#x0440;&#x0430;&#x0437;&#x043C;&#x0435;&#x0440; &#x0441;&#x0432;&#x0444;&#x043F;&#x0430;
&#x0438; &#x0434;&#x0440;. &#x041F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044C;&#x0441;&#x043A;&#x0430;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; sysinfo() &#x043F;&#x0440;&#x0435;&#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A; &#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x043C;&#x0443; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x043C;&#x0443; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0443; &#x0438; &#x043E;&#x0431;&#x044A;&#x044F;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432;
&#x0437;&#x0430;&#x0433;&#x043E;&#x043B;&#x043E;&#x0432;&#x043E;&#x0447;&#x043D;&#x043E;&#x043C; &#x0444;&#x0430;&#x0439;&#x043B;&#x0435; sys/sysinfo.h.
<h5 class="subsubsectionHead"><a 
 id="x1-220005"></a>&#x041F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440; &#x0438;&#x0441;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x043D;&#x0438;&#x044F;</h5>
<!--l. 334--><p class="noindent" >&#x0414;&#x043B;&#x044F; &#x043F;&#x0440;&#x0438;&#x043C;&#x0435;&#x0440;&#x0430; &#x0432;&#x044B;&#x0432;&#x0435;&#x0434;&#x0435;&#x043C; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x0443;&#x044E; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044E; &#x0432; &#x0443;&#x0434;&#x043E;&#x0431;&#x043D;&#x043E;&#x043C; &#x0434;&#x043B;&#x044F; &#x0447;&#x0442;&#x0435;&#x043D;&#x0438;&#x044F; &#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0442;&#x0435;:
   <!--l. 336--><div class="lstinputlisting">
                                                                                               
                                                                                               
<a 
 id="x1-22001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">iostream</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MEGABYTE_IN_BYTES</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1024;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MINUTE_IN_SECONDS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">60;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HOUR_IN_SECONDS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MINUTE_IN_SECONDS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">60;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">const</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DAY_IN_SECONDS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HOUR_IN_SECONDS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">24;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">main</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">information</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">information</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">since</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">boot</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">days</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">information</span><span 
class="lass-0900">.</span><span 
class="lass-0900">uptime</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DAY_IN_SECONDS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">information</span><span 
class="lass-0900">.</span><span 
class="lass-0900">uptime</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">DAY_IN_SECONDS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HOUR_IN_SECONDS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">:</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">information</span><span 
class="lass-0900">.</span><span 
class="lass-0900">uptime</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">HOUR_IN_SECONDS</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MINUTE_IN_SECONDS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">:</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">information</span><span 
class="lass-0900">.</span><span 
class="lass-0900">uptime</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MINUTE_IN_SECONDS</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RAM</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">information</span><span 
class="lass-0900">.</span><span 
class="lass-0900">totalram</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MEGABYTE_IN_BYTES</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mb</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Free</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RAM</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">information</span><span 
class="lass-0900">.</span><span 
class="lass-0900">freeram</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MEGABYTE_IN_BYTES</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mb</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22021r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">cout</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">information</span><span 
class="lass-0900">.</span><span 
class="lass-0900">procs</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">std</span><span 
class="lass-0900">::</span><span 
class="lass-0900">endl</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22022r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">x0</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22023r22"></a><span 
class="larm-0500">22</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 338--><p class="indent" >   &#x0420;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0432;&#x044B;&#x043F;&#x043E;&#x043B;&#x043D;&#x0435;&#x043D;&#x0438;&#x044F; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B;:
   <!--l. 340--><div class="lstinputlisting">
<a 
 id="x1-22024"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22025r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22026r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">since</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">boot</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">days</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">14:42:23</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22027r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RAM</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3951</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mb</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22028r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Free</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RAM</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">605</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mb</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-22029r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">631</span>
   </div>
<h5 class="subsubsectionHead"><a 
 id="x1-230005"></a>&#x041E;&#x0442;&#x0441;&#x043B;&#x0435;&#x0436;&#x0438;&#x0432;&#x0430;&#x043D;&#x0438;&#x0435; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;</h5>
<!--l. 344--><p class="noindent" >&#x041F;&#x043E;&#x043F;&#x0440;&#x043E;&#x0431;&#x0443;&#x0435;&#x043C; &#x043E;&#x0442;&#x0441;&#x043B;&#x0435;&#x0434;&#x0438;&#x0442;&#x044C; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; &#x0432; &#x043F;&#x0440;&#x0435;&#x0434;&#x044B;&#x0434;&#x0443;&#x0449;&#x0435;&#x0439; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0435; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0443;&#x0442;&#x0438;&#x043B;&#x0438;&#x0442;&#x0443; strace:
   <!--l. 346--><div class="lstinputlisting">
<a 
 id="x1-23001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">strace</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">execve</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[</span><span 
class="lass-0900">"</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">"</span><span 
class="lass-0900">],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[</span><span 
class="lasi-0900">/</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">74</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">vars</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">/</span><span 
class="lass-0900">])</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">({</span><span 
class="lass-0900">uptime</span><span 
class="lass-0900">=53030,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">loads</span><span 
class="lass-0900">=[31328,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">29824,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">20160],</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">totalram</span><span 
class="lass-0900">=4142927872,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">freeram</span><span 
class="lass-0900">=628195328,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sharedram</span><span 
class="lass-0900">=67964928,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bufferram</span><span 
class="lass-0900">=390832128,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">totalswap</span><span 
class="lass-0900">=4292866048,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">freeswap</span><span 
class="lass-0900">=4292866048,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">procs</span><span 
class="lass-0900">=633,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">totalhigh</span><span 
class="lass-0900">=0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">freehigh</span><span 
class="lass-0900">=0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mem_unit</span><span 
class="lass-0900">=1})</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">fstat</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">st_mode</span><span 
class="lass-0900">=</span><span 
class="lass-0900">S_IFCHR</span><span 
class="lass-0900">|0620,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">st_rdev</span><span 
class="lass-0900">=</span><span 
class="lass-0900">makedev</span><span 
class="lass-0900">(136,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">19)</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...})</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">write</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">since</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">boot</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">days</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">14:43:5</span><span 
class="lass-0900">"</span><span 
class="lass-0900">...,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">34</span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">since</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">boot</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">days</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">14:43:50</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">34</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">write</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RAM</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3951</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mb</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">19</span><span 
class="lass-0900">Total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RAM</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3951</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mb</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">19</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">write</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Free</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RAM</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">599</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mb</span><span 
class="lass-0900">\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">17</span><span 
class="lass-0900">Free</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RAM</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">599</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mb</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">17</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">write</span><span 
class="lass-0900">(1,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">633\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">19</span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">633</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">19</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">exit_group</span><span 
class="lass-0900">(0)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">?</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-23018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">+++</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">exited</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">with</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+++</span>
   </div>
<!--l. 348--><p class="indent" >   &#x041A;&#x0430;&#x043A; &#x0438; &#x043E;&#x0436;&#x0438;&#x0434;&#x0430;&#x043B;&#x043E;&#x0441;&#x044C; &#x0431;&#x044B;&#x043B;&#x0430; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0435;&#x043D;&#x0430; &#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430; sysinfo &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0441;&#x043E;&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0438;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;.
<h5 class="subsubsectionHead"><a 
 id="x1-240005"></a>&#x041F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430;</h5>
<!--l. 352--><p class="noindent" >&#x0420;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0443;&#x0435;&#x043C; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430; sys_sysinfo &#x0441; &#x043F;&#x043E;&#x043C;&#x043E;&#x0449;&#x044C;&#x044E; kmod_hooking:
   <!--l. 354--><div class="lstinputlisting">
<a 
 id="x1-24001"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24002r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasx-0900">#</span><span 
class="lasx-0900">include</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">linux</span><span 
class="lass-0900">/</span><span 
class="lass-0900">syscalls</span><span 
class="lass-0900">.</span><span 
class="lass-0900">h</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24003r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24004r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24005r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24006r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">DECLARE_KHOOK</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_sysinfo</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24007r6"></a><span 
class="larm-0500">6</span></span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">khook_sys_sysinfo</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__user</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24008r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24009r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_USAGE_INC</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_sysinfo</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24010r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24011r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_ORIGIN</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_sysinfo</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24012r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">printk</span><span 
class="lass-0900">(</span><span 
class="lass-0900">"</span><span 
class="lass-0900">Syscall</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">sys_sysinfo</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooked</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Arguments</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">ld</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">ld</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">ld</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Result</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">%</span><span 
class="lass-0900">d</span><span 
class="lass-0900">.\</span><span 
class="lass-0900">n</span><span 
class="lass-0900">"</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24013r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">uptime</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">totalram</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">freeram</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">procs</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24014r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24015r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">KHOOK_USAGE_DEC</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sys_sysinfo</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24016r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24017r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">result</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24018r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24019r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24020r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">...</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span>
   </div>
<!--l. 356--><p class="indent" >   &#x0414;&#x0430;&#x043D;&#x043D;&#x044B;&#x0439; &#x043A;&#x043E;&#x0434; &#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; linux &#x043A;&#x0430;&#x043A; &#x043C;&#x043E;&#x0434;&#x0443;&#x043B;&#x044C; &#x044F;&#x0434;&#x0440;&#x0430;, &#x0430; &#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0430;&#x0442; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0436;&#x0443;&#x0440;&#x043D;&#x0430;&#x043B;&#x0438;&#x0440;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x0432; &#x0444;&#x0430;&#x0439;&#x043B; kern.log. &#x0423;&#x0431;&#x0435;&#x0434;&#x0438;&#x043C;&#x0441;&#x044F;
&#x0432; &#x043F;&#x0440;&#x0430;&#x0432;&#x0438;&#x043B;&#x044C;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0445;&#x0443;&#x043A;&#x0430;:
   <!--l. 358--><div class="lstinputlisting">
<a 
 id="x1-24021"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24022r1"></a><span 
class="larm-0500">1</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">./</span><span 
class="lass-0900">executable</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24023r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">Time</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">since</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">boot</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">days</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">5:24:33</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24024r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">Total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RAM</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3951</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mb</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24025r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">Free</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">RAM</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">208</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Mb</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24026r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">Process</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">count</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">644</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24027r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">nikita@nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">:~/</span><span 
class="lass-0900">files</span><span 
class="lass-0900">/</span><span 
class="lass-0900">student</span><span 
class="lass-0900">/</span><span 
class="lass-0900">ezsem4</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sys</span><span 
class="lass-0900">/1/</span><span 
class="lass-0900">listings$</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tail</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">var</span><span 
class="lass-0900">/</span><span 
class="lass-0900">log</span><span 
class="lass-0900">/</span><span 
class="lass-0900">kern</span><span 
class="lass-0900">.</span><span 
class="lass-0900">log</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24028r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692700]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sse2x4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">xor</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10589</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24029r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692702]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">algorithm</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sse2x4</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">gen</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">15389</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24030r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692703]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">....</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">xor</span><span 
class="lass-0900">()</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">10589</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">s</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">rmw</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">enabled</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24031r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.692704]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">raid6</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">ssse3x2</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">recovery</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">algorithm</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24032r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.693802]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">xor</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">automatically</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">using</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">best</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">checksumming</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">function</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24033r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.732719]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">avx</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">20010.000</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">MB</span><span 
class="lass-0900">/</span><span 
class="lass-0900">sec</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24034r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">06:10:56</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[11609.749930]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Btrfs</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">loaded</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24035r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">08:20:33</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[19386.834543]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Syscall</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">sys_getpid</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooked</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Result</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">9431.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24036r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">08:21:32</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[19445.923432]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Syscall</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">sys_chdir</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooked</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Arguments</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">/</span><span 
class="lass-0900">home</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Result</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0.</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-24037r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">May</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">3</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">08:22:01</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nikita</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">VirtualBox</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">kernel</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">[19473.324429]</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Syscall</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">sys_sysinfo</span><span 
class="lass-0900">&#8217;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">hooked</span><span 
class="lass-0900">.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Arguments</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">19473,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">4142923776,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">218103808,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">644.</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">Result</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0.</span>
   </div>
<!--l. 360--><p class="indent" >   &#x041F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0437;&#x0430;&#x043F;&#x0443;&#x0441;&#x043A;&#x0430; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x044B; &#x0432; kern.log &#x043F;&#x043E;&#x044F;&#x0432;&#x0438;&#x043B;&#x0430;&#x0441;&#x044C; &#x0437;&#x0430;&#x043F;&#x0438;&#x0441;&#x044C; &#x043E; &#x043F;&#x043E;&#x043F;&#x044B;&#x0442;&#x043A;&#x0435; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430; &#x043A; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x043C;&#x0443; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0443;
sys_sysinfo.
<h5 class="subsubsectionHead"><a 
 id="x1-250005"></a>&#x0410;&#x043D;&#x0430;&#x043B;&#x0438;&#x0437; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x043E;&#x0433;&#x043E; &#x043A;&#x043E;&#x0434;&#x0430;</h5>
<!--l. 364--><p class="noindent" >&#x041F;&#x0440;&#x043E;&#x0442;&#x043E;&#x0442;&#x0438;&#x043F; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x043E;&#x0433;&#x043E; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x0430; sys_sysinfo &#x043D;&#x0430;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0432; include/linux/syscalls.h &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445; &#x044F;&#x0434;&#x0440;&#x0430; linux
<span class="cite">[<span 
class="labx-1000">?</span>]</span>:
   <!--l. 366-->
<div class="lstlisting" id="listing-5"><span class="label"><a 
 id="x1-25001r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">include</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">linux</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">syscalls</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">h</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25002r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25003r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">asmlinkage</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sys_sysinfo</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__user</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span>
   </div>
<!--l. 372--><p class="indent" >   &#x041D;&#x0435;&#x043F;&#x043E;&#x0441;&#x0440;&#x0435;&#x0434;&#x0441;&#x0442;&#x0432;&#x0435;&#x043D;&#x043D;&#x043E; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x044F; sys_sysinfo &#x043D;&#x0430;&#x0445;&#x043E;&#x0434;&#x0438;&#x0442;&#x0441;&#x044F; &#x0432; kernel/sys.c &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445; &#x044F;&#x0434;&#x0440;&#x0430; linux
<span class="cite">[<span 
class="labx-1000">?</span>]</span>:
   <!--l. 374-->
<div class="lstlisting" id="listing-6"><span class="label"><a 
 id="x1-25004r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">kernel</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">sys</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25005r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25006r3"></a><span 
class="larm-0500">3</span></span><span 
class="lass-0900">SYSCALL_DEFINE1</span><span 
class="lass-0900">(</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">__user</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25007r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25008r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">val</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25009r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25010r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">do_sysinfo</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">val</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25011r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25012r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">copy_to_user</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&amp;</span><span 
class="lass-0900">val</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25013r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">EFAULT</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25014r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25015r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25016r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">}</span>
   </div>
<!--l. 390--><p class="indent" >   &#x041C;&#x043E;&#x0436;&#x043D;&#x043E; &#x0437;&#x0430;&#x043C;&#x0435;&#x0442;&#x0438;&#x0442;&#x044C;, &#x0447;&#x0442;&#x043E; &#x0432;&#x044B;&#x0437;&#x044B;&#x0432;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x044F; &#x044F;&#x0434;&#x0440;&#x0430; do_sysinfo &#x0432; kernel/sys.c &#x0432; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0445; &#x0444;&#x0430;&#x0439;&#x043B;&#x0430;&#x0445; &#x044F;&#x0434;&#x0440;&#x0430; linux
<span class="cite">[<span 
class="labx-1000">?</span>]</span>:
   <!--l. 392--><div class="lstinputlisting">
<a 
 id="x1-25017"></a>
<span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25018r1"></a><span 
class="larm-0500">1</span></span><span 
class="lasi-0900">//</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">kernel</span><span 
class="lasi-0900">/</span><span 
class="lasi-0900">sys</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">c</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25019r2"></a><span 
class="larm-0500">2</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25020r3"></a><span 
class="larm-0500">3</span></span><span 
class="lasx-0900">static</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">do_sysinfo</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25021r4"></a><span 
class="larm-0500">4</span></span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25022r5"></a><span 
class="larm-0500">5</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">long</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mem_total</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sav_total</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25023r6"></a><span 
class="larm-0500">6</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">unsigned</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">int</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mem_unit</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25024r7"></a><span 
class="larm-0500">7</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">timespec</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tp</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25025r8"></a><span 
class="larm-0500">8</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25026r9"></a><span 
class="larm-0500">9</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">memset</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">sizeof</span><span 
class="lass-0900">(</span><span 
class="lasx-0900">struct</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sysinfo</span><span 
class="lass-0900">)</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25027r10"></a><span 
class="larm-0500">10</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25028r11"></a><span 
class="larm-0500">11</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get_monotonic_boottime</span><span 
class="lass-0900">(&amp;</span><span 
class="lass-0900">tp</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25029r12"></a><span 
class="larm-0500">12</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">uptime</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">tp</span><span 
class="lass-0900">.</span><span 
class="lass-0900">tv_sec</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">tp</span><span 
class="lass-0900">.</span><span 
class="lass-0900">tv_nsec</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">?</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25030r13"></a><span 
class="larm-0500">13</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25031r14"></a><span 
class="larm-0500">14</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">get_avenrun</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">loads</span><span 
class="lass-0900">,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0,</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">SI_LOAD_SHIFT</span><span 
class="lass-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">FSHIFT</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25032r15"></a><span 
class="larm-0500">15</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25033r16"></a><span 
class="larm-0500">16</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">procs</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">nr_threads</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25034r17"></a><span 
class="larm-0500">17</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25035r18"></a><span 
class="larm-0500">18</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">si_meminfo</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25036r19"></a><span 
class="larm-0500">19</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">si_swapinfo</span><span 
class="lass-0900">(</span><span 
class="lass-0900">info</span><span 
class="lass-0900">)</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25037r20"></a><span 
class="larm-0500">20</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25038r21"></a><span 
class="larm-0500">21</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">/</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25039r22"></a><span 
class="larm-0500">22</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">If</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">the</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">sum</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">of</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">all</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">the</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">available</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">memory</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">(</span><span 
class="lasi-0900">i</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">e</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">ram</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">+</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">swap</span><span 
class="lasi-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25040r23"></a><span 
class="larm-0500">23</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">is</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">less</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">than</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">can</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">be</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">stored</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">in</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">a</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">32</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">bit</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">unsigned</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">long</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">then</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25041r24"></a><span 
class="larm-0500">24</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">we</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">can</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">be</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">binary</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">compatible</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">with</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">2.2.</span><span 
class="lasi-0900">x</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">kernels</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">If</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">not</span><span 
class="lasi-0900">,</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25042r25"></a><span 
class="larm-0500">25</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">well</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">in</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">that</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">case</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">2.2.</span><span 
class="lasi-0900">x</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">was</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">broken</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">anyways</span><span 
class="lasi-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25043r26"></a><span 
class="larm-0500">26</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25044r27"></a><span 
class="larm-0500">27</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">-</span><span 
class="lasi-0900">Erik</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">Andersen</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900"><</span><span 
class="lasi-0900">andersee@debian</span><span 
class="lasi-0900">.</span><span 
class="lasi-0900">org</span><span 
class="lasi-0900">></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25045r28"></a><span 
class="larm-0500">28</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">/</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25046r29"></a><span 
class="larm-0500">29</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25047r30"></a><span 
class="larm-0500">30</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mem_total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">totalram</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">+</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">totalswap</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25048r31"></a><span 
class="larm-0500">31</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mem_total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">totalram</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">||</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mem_total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">totalswap</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25049r32"></a><span 
class="larm-0500">32</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">goto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">out</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25050r33"></a><span 
class="larm-0500">33</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25051r34"></a><span 
class="larm-0500">34</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mem_unit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">mem_unit</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25052r35"></a><span 
class="larm-0500">35</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">while</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mem_unit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1)</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">{</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25053r36"></a><span 
class="larm-0500">36</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">++;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25054r37"></a><span 
class="larm-0500">37</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mem_unit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003E;&#x003E;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25055r38"></a><span 
class="larm-0500">38</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sav_total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mem_total</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25056r39"></a><span 
class="larm-0500">39</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">mem_total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25057r40"></a><span 
class="larm-0500">40</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">if</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">(</span><span 
class="lass-0900">mem_total</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">sav_total</span><span 
class="lass-0900">)</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25058r41"></a><span 
class="larm-0500">41</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">goto</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">out</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25059r42"></a><span 
class="larm-0500">42</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">}</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25060r43"></a><span 
class="larm-0500">43</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25061r44"></a><span 
class="larm-0500">44</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasi-0900">/</span><span 
class="cmsy-9">*</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25062r45"></a><span 
class="larm-0500">45</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">If</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">mem_total</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">did</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">not</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">overflow</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">multiply</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">all</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">memory</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">values</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">by</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25063r46"></a><span 
class="larm-0500">46</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lasi-0900">></span><span 
class="lasi-0900">mem_unit</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">and</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">set</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">it</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">to</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">1.</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">This</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">leaves</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">things</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">compatible</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25064r47"></a><span 
class="larm-0500">47</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">with</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">2.2.</span><span 
class="lasi-0900">x</span><span 
class="lasi-0900">,</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">and</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">also</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">retains</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">compatibility</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">with</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">earlier</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">2.4.</span><span 
class="lasi-0900">x</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25065r48"></a><span 
class="larm-0500">48</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">kernels</span><span 
class="lasi-0900">...</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25066r49"></a><span 
class="larm-0500">49</span></span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="lasi-0900">&#x00A0;</span><span 
class="cmsy-9">*</span><span 
class="lasi-0900">/</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25067r50"></a><span 
class="larm-0500">50</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25068r51"></a><span 
class="larm-0500">51</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">mem_unit</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">1;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25069r52"></a><span 
class="larm-0500">52</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">totalram</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25070r53"></a><span 
class="larm-0500">53</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">freeram</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25071r54"></a><span 
class="larm-0500">54</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">sharedram</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25072r55"></a><span 
class="larm-0500">55</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">bufferram</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25073r56"></a><span 
class="larm-0500">56</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">totalswap</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25074r57"></a><span 
class="larm-0500">57</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">freeswap</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25075r58"></a><span 
class="larm-0500">58</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">totalhigh</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25076r59"></a><span 
class="larm-0500">59</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">info</span><span 
class="cmsy-9">-</span><span 
class="lass-0900">&#x003E;</span><span 
class="lass-0900">freehigh</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x003C;&#x003C;=</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">bitcount</span><span 
class="lass-0900">;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25077r60"></a><span 
class="larm-0500">60</span></span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25078r61"></a><span 
class="larm-0500">61</span></span><span 
class="lass-0900">out</span><span 
class="lass-0900">:</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25079r62"></a><span 
class="larm-0500">62</span></span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lasx-0900">return</span><span 
class="lass-0900">&#x00A0;</span><span 
class="lass-0900">0;</span><span 
class="lass-0900">&#x00A0;</span><br /><span class="label"><a 
 id="x1-25080r63"></a><span 
class="larm-0500">63</span></span><span 
class="lass-0900">}</span>
                                                                                               
                                                                                               
   </div>
<!--l. 394--><p class="indent" >   &#x0412; &#x043F;&#x0435;&#x0440;&#x0432;&#x0443;&#x044E; &#x043E;&#x0447;&#x0435;&#x0440;&#x0435;&#x0434;&#x044C; &#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x0430; &#x043E;&#x0431;&#x043D;&#x0443;&#x043B;&#x044F;&#x0435;&#x0442;&#x0441;&#x044F;, &#x043F;&#x043E;&#x0441;&#x043B;&#x0435; &#x0447;&#x0435;&#x0433;&#x043E; &#x0441;&#x043E;&#x0431;&#x0438;&#x0440;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x0438;&#x043D;&#x0444;&#x043E;&#x0440;&#x043C;&#x0430;&#x0446;&#x0438;&#x044F; &#x043E; &#x0432;&#x0440;&#x0435;&#x043C;&#x0435;&#x043D;&#x0438;, &#x043F;&#x0430;&#x043C;&#x044F;&#x0442;&#x0438;, &#x0441;&#x0432;&#x043E;&#x043F;&#x0435; &#x0438;
&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x0435; &#x043F;&#x0440;&#x043E;&#x0446;&#x0435;&#x0441;&#x0441;&#x043E;&#x0432; &#x0447;&#x0435;&#x0440;&#x0435;&#x0437; &#x0441;&#x043E;&#x043E;&#x0442;&#x0432;&#x0435;&#x0442;&#x0441;&#x0442;&#x0432;&#x0443;&#x044E;&#x0449;&#x0438;&#x0435; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; get_monolitic_boottime, get_averrun, si_meminfo,
si_swapinfo. &#x0412; &#x0437;&#x0430;&#x0432;&#x0435;&#x0440;&#x0448;&#x0435;&#x043D;&#x0438;&#x0438; &#x0434;&#x0435;&#x043B;&#x0430;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x043E;&#x043F;&#x0440;&#x0430;&#x0432;&#x043A;&#x0430; &#x043D;&#x0430; &#x0432;&#x0435;&#x0440;&#x0441;&#x0438;&#x0438; &#x044F;&#x0434;&#x0440;&#x0430; 2.2.x &#x0441; &#x043F;&#x043E;&#x0431;&#x0438;&#x0442;&#x043E;&#x0432;&#x044B;&#x043C; &#x0441;&#x0434;&#x0432;&#x0438;&#x0433;&#x043E;&#x043C; &#x043F;&#x043E;&#x043B;&#x0435;&#x0439; &#x0440;&#x0435;&#x0437;&#x0443;&#x043B;&#x044C;&#x0442;&#x0438;&#x0440;&#x0443;&#x044E;&#x0449;&#x0435;&#x0439;
&#x0441;&#x0442;&#x0440;&#x0443;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B;.
<a 
 id="x1-25081r9"></a>
<h3 class="sectionHead"><span class="titlemark">1.6   </span> <a 
 id="x1-260006"></a>&#x0412;&#x044B;&#x0432;&#x043E;&#x0434;</h3>
<!--l. 398--><p class="noindent" >&#x0412; &#x0434;&#x0430;&#x043D;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0435; &#x0431;&#x044B;&#x043B;&#x0438; &#x0438;&#x0437;&#x0443;&#x0447;&#x0435;&#x043D;&#x044B; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0435; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x044B;, &#x043F;&#x0440;&#x0438;&#x043D;&#x0446;&#x0438;&#x043F;&#x044B; &#x043F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442;&#x0430; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432;, &#x0430; &#x0442;&#x0430;&#x043A;&#x0436;&#x0435; &#x0434;&#x043E;&#x0431;&#x0430;&#x0432;&#x043B;&#x0435;&#x043D;&#x0438;&#x0435;
&#x043C;&#x043E;&#x0434;&#x0443;&#x043B;&#x0435;&#x0439; &#x0432; &#x044F;&#x0434;&#x0440;&#x043E; &#x041E;&#x0421; Linux.
<!--l. 400--><p class="indent" >   &#x0412; &#x041E;&#x0421; Linux(&#x0432;&#x0435;&#x0440;&#x0441;&#x0438;&#x044F; &#x044F;&#x0434;&#x0440;&#x0430; v4.17-rc4) &#x043E;&#x043F;&#x0440;&#x0435;&#x0434;&#x0435;&#x043B;&#x0435;&#x043D;&#x043E; &#x043E;&#x043A;&#x043E;&#x043B;&#x043E; 384 &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432; &#x0434;&#x043B;&#x044F; &#x0430;&#x0440;&#x0445;&#x0438;&#x0442;&#x0435;&#x043A;&#x0442;&#x0443;&#x0440;&#x044B; i386. &#x0422;&#x0430;&#x043A;&#x043E;&#x0435;
&#x043A;&#x043E;&#x043B;&#x0438;&#x0447;&#x0435;&#x0441;&#x0442;&#x0432;&#x043E; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432; &#x043F;&#x043E;&#x0437;&#x0432;&#x043E;&#x043B;&#x044F;&#x0435;&#x0442; &#x043F;&#x0440;&#x043E;&#x0433;&#x0440;&#x0430;&#x043C;&#x043C;&#x0438;&#x0441;&#x0442;&#x0443; &#x043F;&#x043E;&#x043B;&#x0443;&#x0447;&#x0438;&#x0442;&#x044C; &#x0443;&#x0434;&#x043E;&#x0431;&#x043D;&#x044B;&#x0439; &#x0438; &#x043F;&#x043E;&#x043B;&#x043D;&#x044B;&#x0439; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F; &#x043A;&#x043E; &#x0432;&#x0441;&#x0435;&#x043C; &#x043A;&#x043E;&#x043C;&#x043F;&#x043E;&#x043D;&#x0435;&#x043D;&#x0442;&#x0430;&#x043C;
&#x041E;&#x0421; &#x0432; &#x0440;&#x0430;&#x043C;&#x043A;&#x0430;&#x0445; &#x043F;&#x0440;&#x0430;&#x0432; &#x0434;&#x043E;&#x0441;&#x0442;&#x0443;&#x043F;&#x0430;.
<!--l. 402--><p class="indent" >   &#x041A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0439; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432; &#x0441;&#x043E;&#x0434;&#x0435;&#x0440;&#x0436;&#x0438;&#x0442; &#x044D;&#x043B;&#x0435;&#x043C;&#x0435;&#x043D;&#x0442;&#x044B; &#x0441;&#x0438;&#x043D;&#x0445;&#x0440;&#x043E;&#x043D;&#x0438;&#x0437;&#x0430;&#x0446;&#x0438;&#x0438; &#x0442;&#x0430;&#x043C; &#x0433;&#x0434;&#x0435; &#x044D;&#x0442;&#x043E; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x043E; &#x0434;&#x043B;&#x044F; &#x043A;&#x043E;&#x0440;&#x0440;&#x0435;&#x043A;&#x0442;&#x043D;&#x043E;&#x0439; &#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x044B; &#x0432;
&#x0443;&#x0441;&#x043B;&#x043E;&#x0432;&#x0438;&#x044F;&#x0445; &#x043C;&#x043D;&#x043E;&#x0433;&#x043E;&#x043F;&#x043E;&#x0442;&#x043E;&#x0447;&#x043D;&#x043E;&#x0441;&#x0442;&#x0438;.
<!--l. 404--><p class="indent" >   &#x041A;&#x0430;&#x0436;&#x0434;&#x044B;&#x0439; &#x0440;&#x0430;&#x0437;&#x0440;&#x0430;&#x0431;&#x043E;&#x0442;&#x0447;&#x0438;&#x043A; &#x0441;&#x043E;&#x043E;&#x0431;&#x0449;&#x0435;&#x0441;&#x0442;&#x0432;&#x0430; &#x043C;&#x043E;&#x0436;&#x0435;&#x0442; &#x0443;&#x043B;&#x0443;&#x0447;&#x0448;&#x0430;&#x0442;&#x044C; &#x0438;&#x0441;&#x0445;&#x043E;&#x0434;&#x043D;&#x044B;&#x0439; &#x043A;&#x043E;&#x0434; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432; &#x0438; &#x0434;&#x0440;&#x0443;&#x0433;&#x0438;&#x0445; &#x0447;&#x0430;&#x0441;&#x0442;&#x0435;&#x0439; &#x044F;&#x0434;&#x0440;&#x0430; &#x043F;&#x0443;&#x0442;&#x0435;&#x043C;
&#x0441;&#x043E;&#x0437;&#x0434;&#x0430;&#x043D;&#x0438;&#x044F; pull request &#x0432; GitHub &#x0440;&#x0435;&#x043F;&#x043E;&#x0437;&#x0438;&#x0442;&#x043E;&#x0440;&#x0438;&#x0438; &#x044F;&#x0434;&#x0440;&#x0430; Linux <span class="cite">[<span 
class="labx-1000">?</span>]</span>. &#x041D;&#x0430; &#x0441;&#x0435;&#x0433;&#x043E;&#x0434;&#x043D;&#x044F;&#x0448;&#x043D;&#x0438;&#x0439; &#x0434;&#x0435;&#x043D;&#x044C; &#x044F;&#x0434;&#x0440;&#x043E; Linux &#x0440;&#x0430;&#x0437;&#x0440;&#x043E;&#x0441;&#x043B;&#x043E;&#x0441;&#x044C; &#x0434;&#x043E; &#x0442;&#x0430;&#x043A;&#x043E;&#x0439;
&#x0441;&#x0442;&#x0435;&#x043F;&#x0435;&#x043D;&#x0438;, &#x0447;&#x0442;&#x043E; &#x0435;&#x0433;&#x043E; &#x0438;&#x0437;&#x0443;&#x0447;&#x0435;&#x043D;&#x0438;&#x0435; &#x043F;&#x0443;&#x0442;&#x0435;&#x043C; &#x0430;&#x043D;&#x0430;&#x043B;&#x0438;&#x0437;&#x0430; &#x043A;&#x043E;&#x0434;&#x0430; &#x043C;&#x0430;&#x043B;&#x043E;&#x044D;&#x0444;&#x0444;&#x0435;&#x043A;&#x0442;&#x0438;&#x0432;&#x043D;&#x043E;.
<!--l. 406--><p class="indent" >   &#x041F;&#x0435;&#x0440;&#x0435;&#x0445;&#x0432;&#x0430;&#x0442; &#x0441;&#x0438;&#x0441;&#x0442;&#x0435;&#x043C;&#x043D;&#x044B;&#x0445; &#x0432;&#x044B;&#x0437;&#x043E;&#x0432;&#x043E;&#x0432; &#x0434;&#x043E;&#x0441;&#x0442;&#x0430;&#x0442;&#x043E;&#x0447;&#x043D;&#x043E; &#x043D;&#x0435;&#x0441;&#x043B;&#x043E;&#x0436;&#x043D;&#x043E; &#x0440;&#x0435;&#x0430;&#x043B;&#x0438;&#x0437;&#x0443;&#x0435;&#x0442;&#x0441;&#x044F; &#x043F;&#x043E;&#x0434;&#x043C;&#x0435;&#x043D;&#x043E;&#x0439; &#x0444;&#x0443;&#x043D;&#x043A;&#x0446;&#x0438;&#x0438; &#x0432;&#x043D;&#x0443;&#x0442;&#x0440;&#x0438; &#x044F;&#x0434;&#x0440;&#x0430;, &#x043E;&#x0434;&#x043D;&#x0430;&#x043A;&#x043E;, &#x0434;&#x043B;&#x044F;
&#x044D;&#x0442;&#x043E;&#x0433;&#x043E; &#x043D;&#x0435;&#x043E;&#x0431;&#x0445;&#x043E;&#x0434;&#x0438;&#x043C;&#x044B; &#x043F;&#x0440;&#x0430;&#x0432;&#x0430; &#x0441;&#x0443;&#x043F;&#x0435;&#x0440;&#x043F;&#x043E;&#x043B;&#x044C;&#x0437;&#x043E;&#x0432;&#x0430;&#x0442;&#x0435;&#x043B;&#x044F;.
    
</body></html> 

                                                                                               


